

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="John Doe">
  <meta name="keywords" content="">
  
    <meta name="description" content="let const  æ²¡ä»€ä¹ˆæ–°çš„ä¸œè¥¿ å°±ä¸å†™äº† ä¸çŸ¥é“ä¸ºä»€ä¹ˆè¿™æœ¬ä¹¦åé¢éƒ½ç”¨çš„ var å­—ç¬¦ä¸²ä¸æ­£åˆ™è¡¨è¾¾å¼  æ›´å¥½çš„ Unicode æ”¯æŒå…³äº UnicodeUnicodeä½¿ç”¨16ä½äºŒè¿›åˆ¶æ¥å­˜å‚¨æ–‡å­—ã€‚æˆ‘ä»¬å°†ä¸€ä¸ª16ä½çš„äºŒè¿›åˆ¶ç¼–ç å«åšä¸€ä¸ªç å…ƒï¼ˆCode Unitï¼‰ï¼ŒUnicodeç¼–ç èŒƒå›´åœ¨0 - 2^16ã€‚ä¹Ÿå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„å ä¸€ä¸ªå­—èŠ‚ã€‚ ç”±äºæŠ€æœ¯çš„å‘å±•ï¼ŒUnicodeå¯¹æ–‡å­—ç¼–ç è¿›è¡Œäº†æ‰©å±•ï¼Œå°†æŸäº›æ–‡å­—æ‰©å±•">
<meta property="og:type" content="article">
<meta property="og:title" content="æ·±å…¥ç†è§£ES6">
<meta property="og:url" content="http://example.com/2022/07/21/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3ES6/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="let const  æ²¡ä»€ä¹ˆæ–°çš„ä¸œè¥¿ å°±ä¸å†™äº† ä¸çŸ¥é“ä¸ºä»€ä¹ˆè¿™æœ¬ä¹¦åé¢éƒ½ç”¨çš„ var å­—ç¬¦ä¸²ä¸æ­£åˆ™è¡¨è¾¾å¼  æ›´å¥½çš„ Unicode æ”¯æŒå…³äº UnicodeUnicodeä½¿ç”¨16ä½äºŒè¿›åˆ¶æ¥å­˜å‚¨æ–‡å­—ã€‚æˆ‘ä»¬å°†ä¸€ä¸ª16ä½çš„äºŒè¿›åˆ¶ç¼–ç å«åšä¸€ä¸ªç å…ƒï¼ˆCode Unitï¼‰ï¼ŒUnicodeç¼–ç èŒƒå›´åœ¨0 - 2^16ã€‚ä¹Ÿå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„å ä¸€ä¸ªå­—èŠ‚ã€‚ ç”±äºæŠ€æœ¯çš„å‘å±•ï¼ŒUnicodeå¯¹æ–‡å­—ç¼–ç è¿›è¡Œäº†æ‰©å±•ï¼Œå°†æŸäº›æ–‡å­—æ‰©å±•">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2022/07/21/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3ES6/image-20220721192756233.png">
<meta property="og:image" content="http://example.com/2022/07/21/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3ES6/image-20220721192733715.png">
<meta property="og:image" content="http://example.com/2022/07/21/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3ES6/image-20220721204939237.png">
<meta property="og:image" content="http://example.com/2022/07/21/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3ES6/image-20220722162911548.png">
<meta property="og:image" content="http://example.com/2022/07/21/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3ES6/image-20220722201416156.png">
<meta property="og:image" content="http://example.com/2022/07/21/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3ES6/image-20220724205823067.png">
<meta property="og:image" content="http://example.com/2022/07/21/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3ES6/image-20220726144254499.png">
<meta property="og:image" content="http://example.com/2022/07/21/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3ES6/image-20220726152259722.png">
<meta property="og:image" content="http://example.com/2022/07/21/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3ES6/image-20220726152623070.png">
<meta property="og:image" content="http://example.com/2022/07/21/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3ES6/image-20220726161901329.png">
<meta property="article:published_time" content="2022-07-21T05:57:00.000Z">
<meta property="article:modified_time" content="2022-07-26T09:04:32.185Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="å­—ç¬¦ä¸²">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://example.com/2022/07/21/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3ES6/image-20220721192756233.png">
  
  
  
  <title>æ·±å…¥ç†è§£ES6 - Hexo</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.1","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"qPzYEpTngSrzQtV1XpsPSmPm-gzGzoHsz","app_key":"kf4lqne4FqonWhpUQzS1Ffrx","server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>

  
<meta name="generator" content="Hexo 6.2.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>JY BLOG</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                Home
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                Archives
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                Categories
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                Tags
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                About
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="æ·±å…¥ç†è§£ES6"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-07-21 13:57" pubdate>
          July 21, 2022 pm
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          26k words
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          215 mins
        
      </span>
    

    
    
      
        <span id="leancloud-page-views-container" class="post-meta" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="leancloud-page-views"></span>æ¬¡
        </span>
        
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">æ·±å…¥ç†è§£ES6</h1>
            
            <div class="markdown-body">
              
              <h1 id="let-const"><a href="#let-const" class="headerlink" title="let const"></a>let const</h1><img src="/2022/07/21/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3ES6/image-20220721192756233.png" srcset="/img/loading.gif" lazyload class="" title="image-20220721192756233">

<p>æ²¡ä»€ä¹ˆæ–°çš„ä¸œè¥¿ å°±ä¸å†™äº†</p>
<p>ä¸çŸ¥é“ä¸ºä»€ä¹ˆè¿™æœ¬ä¹¦åé¢éƒ½ç”¨çš„ var</p>
<h1 id="å­—ç¬¦ä¸²ä¸æ­£åˆ™è¡¨è¾¾å¼"><a href="#å­—ç¬¦ä¸²ä¸æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="å­—ç¬¦ä¸²ä¸æ­£åˆ™è¡¨è¾¾å¼"></a>å­—ç¬¦ä¸²ä¸æ­£åˆ™è¡¨è¾¾å¼</h1><img src="/2022/07/21/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3ES6/image-20220721192733715.png" srcset="/img/loading.gif" lazyload class="" title="image-20220721192733715">

<h2 id="æ›´å¥½çš„-Unicode-æ”¯æŒ"><a href="#æ›´å¥½çš„-Unicode-æ”¯æŒ" class="headerlink" title="æ›´å¥½çš„ Unicode æ”¯æŒ"></a>æ›´å¥½çš„ Unicode æ”¯æŒ</h2><h3 id="å…³äº-Unicode"><a href="#å…³äº-Unicode" class="headerlink" title="å…³äº Unicode"></a><a target="_blank" rel="noopener" href="https://www.cnblogs.com/yongG/p/12153646.html">å…³äº Unicode</a></h3><p>Unicodeä½¿ç”¨16ä½äºŒè¿›åˆ¶æ¥å­˜å‚¨æ–‡å­—ã€‚æˆ‘ä»¬å°†ä¸€ä¸ª16ä½çš„äºŒè¿›åˆ¶ç¼–ç å«åšä¸€ä¸ªç å…ƒï¼ˆCode Unitï¼‰ï¼ŒUnicodeç¼–ç èŒƒå›´åœ¨0 - 2^16ã€‚ä¹Ÿå°±æ˜¯æˆ‘ä»¬æ‰€è¯´çš„å ä¸€ä¸ªå­—èŠ‚ã€‚</p>
<p>ç”±äºæŠ€æœ¯çš„å‘å±•ï¼ŒUnicodeå¯¹æ–‡å­—ç¼–ç è¿›è¡Œäº†æ‰©å±•ï¼Œå°†æŸäº›æ–‡å­—æ‰©å±•åˆ°äº†32ä½ï¼ˆå ç”¨ä¸¤ä¸ªç å…ƒï¼‰ï¼Œå¹¶ä¸”ï¼Œå°†æŸä¸ªæ–‡å­—å¯¹åº”çš„äºŒè¿›åˆ¶æ•°å­—å«åšç ç‚¹ï¼ˆCode Pointï¼‰ï¼ŒUnicodeç¼–ç èŒƒå›´åœ¨0 - 2^32ï¼Œå 2ä¸ªå­—èŠ‚ã€‚</p>
<p>ç‰¹åˆ«è¦æ³¨æ„ï¼Œç ç‚¹å¯ä»¥æ˜¯ä¸€ä¸ªç å…ƒï¼Œä¹Ÿå¯ä»¥æ˜¯ä¸¤ä¸ªç å…ƒã€‚</p>
<p>å­—ç¬¦ä¸²çš„lengthå±æ€§è¿”å›çš„æ˜¯ç å…ƒã€‚æ‰€ä»¥åœ¨å¯¹ä¸€äº›å­—ç¬¦ä¸²å¦‚æœè¦å¤„ç†é•¿åº¦çš„æ—¶å€™è¦æ³¨æ„è¿™ä¸€ç‚¹ã€‚</p>
<p><strong>ES6 ä¸ºäº†æ”¯æŒ Unicode çš„å‘å±•ä¹Ÿæ–°å¢äº†ä¸€äº›æ–¹æ³•</strong></p>
<h3 id="codePointAt"><a href="#codePointAt" class="headerlink" title="codePointAt()"></a>codePointAt()</h3><p>å¯ä»¥åœ¨ç»™å®šå­—ç¬¦ä¸²ä¸­æŒ‰ä½ç½®æå– Unicode ä»£ç ç‚¹ã€‚è¯¥æ–¹æ³•æ¥å—çš„æ˜¯<strong>ç å…ƒä½ç½®</strong>è€Œéå­—ç¬¦ä½ç½®ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ•´æ•°å€¼ã€‚</p>
<p><strong>charCodeAt çš„ä¼˜åŒ–ç‰ˆ</strong></p>
<p>charCodeAtæ˜¯æ ¹æ®ç å…ƒæ¥åŒ¹é…ï¼ŒcodePointAtæ˜¯æ ¹æ®ç ç‚¹æ¥è¿›è¡ŒåŒ¹é…çš„ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> text = <span class="hljs-string">&quot;ğ˜š a&quot;</span> ;		<span class="hljs-comment">// ç‰¹æ®Šå­—ç¬¦æ˜¾ç¤ºä¸å‡ºæ¥</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(text.<span class="hljs-title function_">charCodeAt</span>(<span class="hljs-number">0</span>)); <span class="hljs-comment">// 55329</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(text.<span class="hljs-title function_">charCodeAt</span>(<span class="hljs-number">1</span>)); <span class="hljs-comment">// 56992</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(text.<span class="hljs-title function_">charCodeAt</span>(<span class="hljs-number">2</span>)); <span class="hljs-comment">// 97</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(text.<span class="hljs-title function_">codePointAt</span>(<span class="hljs-number">0</span>)); <span class="hljs-comment">// 100000</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(text.<span class="hljs-title function_">codePointAt</span>(<span class="hljs-number">1</span>)); <span class="hljs-comment">// 56992</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(text.<span class="hljs-title function_">codePointAt</span>(<span class="hljs-number">2</span>)); <span class="hljs-comment">// 97</span><br></code></pre></td></tr></table></figure>



<p><strong>åˆ¤æ–­å­—ç¬¦åŒ…å«äº†ä¸€ä¸ªè¿˜æ˜¯ä¸¤ä¸ªç å…ƒ</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 16 ä½å­—ç¬¦çš„ä¸Šè¾¹ç•Œç”¨åå…­è¿›åˆ¶è¡¨ç¤ºå°±æ˜¯ FFFF ï¼Œå› æ­¤ä»»ä½•å¤§äºè¯¥æ•°å­—çš„ä»£ç ç‚¹å¿…é¡»ç”¨ä¸¤ä¸ªç å…ƒï¼ˆå…± 32 ä½ï¼‰æ¥è¡¨ç¤ºã€‚</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">is32Bit</span>(<span class="hljs-params">c</span>) &#123;<br>    <span class="hljs-keyword">return</span> c.<span class="hljs-title function_">codePointAt</span>(<span class="hljs-number">0</span>) &gt; <span class="hljs-number">0xFFFF</span><br>&#125;<br></code></pre></td></tr></table></figure>



<p><strong>String.fromCodePoint</strong></p>
<p>codePointAt() çš„é€†æ“ä½œ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">String</span>.<span class="hljs-title function_">fromCodePoint</span>(<span class="hljs-number">134071</span>))   <span class="hljs-comment">// ğ ®·</span><br></code></pre></td></tr></table></figure>

<p>codePointAt &lt;â€”&gt; fromCodePoint</p>
<p>charCodeAt &lt;â€”&gt; fromCharCode</p>
<h3 id="normalize"><a href="#normalize" class="headerlink" title="normalize"></a>normalize</h3><p>å¼€å‘å›½é™…åŒ–åº”ç”¨æ—¶ï¼Œè¿™ä¸ªæ–¹æ³•å¾ˆé‡è¦</p>
<p>åœ¨æ¯”è¾ƒå­—ç¬¦ä¸²æ—¶ï¼Œå¿…é¡»è¢«æ ‡å‡†åŒ–ä¸ºåŒä¸€ç§å½¢å¼</p>
<h3 id="æ­£åˆ™è¡¨è¾¾å¼-u-æ ‡å¿—"><a href="#æ­£åˆ™è¡¨è¾¾å¼-u-æ ‡å¿—" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼ u æ ‡å¿—"></a>æ­£åˆ™è¡¨è¾¾å¼ u æ ‡å¿—</h3><p>æ­£åˆ™è¡¨è¾¾å¼å‡å®šå•ä¸ªå­—ç¬¦ç”±ä¸€ä¸ª16ä½çš„ç å…ƒè¡¨ç¤ºã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒES6 å®šä¹‰äº†ç”¨äºå¤„ç† Unicode çš„ u æ ‡å¿—</p>
<p>å½“ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼è®¾ç½®äº† u æ ‡å¿—åçœ‹ï¼Œå·¥ä½œè¡¨æ¨¡å¼å°†åˆ‡æ¢åˆ°é’ˆå¯¹å­—ç¬¦ï¼Œè€Œä¸æ˜¯é’ˆå¯¹ç å…ƒ</p>
<p><strong>è®¡ç®—ç ç‚¹æ•°é‡</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">codePointLength</span>(<span class="hljs-params">text</span>) &#123;<br>    <span class="hljs-keyword">let</span> result = text.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/[\s\S]/gu</span>)<br>    <span class="hljs-keyword">return</span> result ? result.<span class="hljs-property">length</span> : <span class="hljs-number">0</span><br>&#125;<br></code></pre></td></tr></table></figure>



<p><strong>åˆ¤æ–­æ˜¯å¦æ”¯æŒ u æ ‡å¿—</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">hasRegExpU</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">try</span> &#123;<br>        <span class="hljs-keyword">let</span> pattern = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">&quot;.&quot;</span>, <span class="hljs-string">&quot;u&quot;</span>)<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span><br>    &#125; <span class="hljs-keyword">catch</span> (ex) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<h2 id="å­—ç¬¦ä¸²çš„å…¶ä»–æ”¹åŠ¨"><a href="#å­—ç¬¦ä¸²çš„å…¶ä»–æ”¹åŠ¨" class="headerlink" title="å­—ç¬¦ä¸²çš„å…¶ä»–æ”¹åŠ¨"></a>å­—ç¬¦ä¸²çš„å…¶ä»–æ”¹åŠ¨</h2><h3 id="è¯†åˆ«å­å­—ç¬¦ä¸²çš„æ–¹æ³•"><a href="#è¯†åˆ«å­å­—ç¬¦ä¸²çš„æ–¹æ³•" class="headerlink" title="è¯†åˆ«å­å­—ç¬¦ä¸²çš„æ–¹æ³•"></a>è¯†åˆ«å­å­—ç¬¦ä¸²çš„æ–¹æ³•</h3><p><strong>includes()</strong> æ–¹æ³•ï¼Œåœ¨ç»™å®šæ–‡æœ¬å­˜åœ¨äºå­—ç¬¦ä¸²ä¸­çš„ä»»æ„ä½ç½®æ—¶ä¼šè¿”å› true ï¼Œå¦åˆ™è¿”å›false ï¼›</p>
<p><strong>startsWith()</strong> æ–¹æ³•ï¼Œåœ¨ç»™å®šæ–‡æœ¬å‡ºç°åœ¨å­—ç¬¦ä¸²èµ·å§‹å¤„æ—¶è¿”å› true ï¼Œå¦åˆ™è¿”å› false ï¼›</p>
<p><strong>endsWith()</strong> æ–¹æ³•ï¼Œåœ¨ç»™å®šæ–‡æœ¬å‡ºç°åœ¨å­—ç¬¦ä¸²ç»“å°¾å¤„æ—¶è¿”å› true ï¼Œå¦åˆ™è¿”å› false ã€‚</p>
<p>æ¯ä¸ªæ–¹æ³•éƒ½æ¥å—ä¸¤ä¸ªå‚æ•°ï¼š<strong>éœ€è¦æœç´¢çš„æ–‡æœ¬</strong>ï¼Œä»¥åŠ<strong>å¯é€‰çš„æœç´¢èµ·å§‹ä½ç½®ç´¢å¼•</strong>ã€‚</p>
<p>å½“æä¾›äº†ç¬¬äºŒä¸ªå‚æ•°æ—¶ï¼Œ includes() ä¸ startsWith() æ–¹æ³•ä¼šä»è¯¥ç´¢å¼•ä½ç½®å¼€å§‹å°è¯•åŒ¹é…ï¼›è€Œ<strong>endsWith() æ–¹æ³•ä¼šå°†å­—ç¬¦ä¸²é•¿åº¦å‡å»è¯¥å‚æ•°</strong>ï¼Œä»¥æ­¤ä¸ºèµ·ç‚¹å¼€å§‹å°è¯•åŒ¹é…ã€‚</p>
<p>å½“ç¬¬äºŒä¸ªå‚æ•°æœªæä¾›æ—¶ï¼Œ includes() ä¸ startsWith() æ–¹æ³•ä¼šä»å­—ç¬¦ä¸²èµ·å§‹å¤„å¼€å§‹æŸ¥æ‰¾ï¼Œè€Œ endsWith() æ–¹æ³•åˆ™ä»å°¾éƒ¨å¼€å§‹ã€‚å®é™…ä¸Šï¼Œç¬¬äºŒä¸ªå‚æ•°å‡å°‘äº†æœç´¢å­—ç¬¦ä¸²çš„æ¬¡æ•°ã€‚ä»¥ä¸‹æ˜¯ä½¿ç”¨è¿™äº›æ–¹æ³•çš„æ¼”ç¤ºï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> msg = <span class="hljs-string">&quot;Hello world!&quot;</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(msg.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">&quot;Hello&quot;</span>)); <span class="hljs-comment">// true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(msg.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">&quot;!&quot;</span>)); <span class="hljs-comment">// true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(msg.<span class="hljs-title function_">includes</span>(<span class="hljs-string">&quot;o&quot;</span>)); <span class="hljs-comment">// true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(msg.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">&quot;o&quot;</span>)); <span class="hljs-comment">// false</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(msg.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">&quot;world!&quot;</span>)); <span class="hljs-comment">// true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(msg.<span class="hljs-title function_">includes</span>(<span class="hljs-string">&quot;x&quot;</span>)); <span class="hljs-comment">// false</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(msg.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">&quot;o&quot;</span>, <span class="hljs-number">4</span>)); <span class="hljs-comment">// true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(msg.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">&quot;o&quot;</span>, <span class="hljs-number">8</span>)); <span class="hljs-comment">// true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(msg.<span class="hljs-title function_">includes</span>(<span class="hljs-string">&quot;o&quot;</span>, <span class="hljs-number">8</span>)); <span class="hljs-comment">// false</span><br></code></pre></td></tr></table></figure>



<p><strong>è‹¥ä½ éœ€è¦æ‰¾åˆ°å®ƒä»¬åœ¨å¦ä¸€ä¸ªå­—ç¬¦ä¸²ä¸­çš„ç¡®åˆ‡ä½ç½®ï¼Œåˆ™éœ€è¦ä½¿ç”¨ indexOf() å’Œ lastIndexOf() ã€‚</strong></p>
<p>å¦‚æœå‘ startsWith() ã€ endsWith() æˆ– includes() æ–¹æ³•ä¼ å…¥äº†æ­£åˆ™è¡¨è¾¾å¼,ä¼šæŠ›å‡ºé”™è¯¯ã€‚</p>
<p>è€Œ indexOf() ä»¥åŠ lastIndexOf() ä¼šå°†æ­£åˆ™è¡¨è¾¾å¼è½¬æ¢ä¸ºå­—ç¬¦ä¸²å¹¶æœç´¢å®ƒã€‚</p>
<h3 id="repeat"><a href="#repeat" class="headerlink" title="repeat"></a>repeat</h3><p>ES6 è¿˜ä¸ºå­—ç¬¦ä¸²æ·»åŠ äº†ä¸€ä¸ª repeat() æ–¹æ³•ï¼Œå®ƒæ¥å—ä¸€ä¸ªå‚æ•°ä½œä¸ºå­—ç¬¦ä¸²çš„é‡å¤æ¬¡æ•°ï¼Œè¿”å›ä¸€ä¸ªå°†åˆå§‹å­—ç¬¦ä¸²é‡å¤æŒ‡å®šæ¬¡æ•°çš„æ–°å­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;x&quot;</span>.<span class="hljs-title function_">repeat</span>(<span class="hljs-number">3</span>)); <span class="hljs-comment">// &quot;xxx&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;hello&quot;</span>.<span class="hljs-title function_">repeat</span>(<span class="hljs-number">2</span>)); <span class="hljs-comment">// &quot;hellohello&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;abc&quot;</span>.<span class="hljs-title function_">repeat</span>(<span class="hljs-number">4</span>)); <span class="hljs-comment">// &quot;abcabcabcabc&quot;</span><br></code></pre></td></tr></table></figure>



<h2 id="æ­£åˆ™è¡¨è¾¾å¼çš„å…¶ä»–æ”¹åŠ¨"><a href="#æ­£åˆ™è¡¨è¾¾å¼çš„å…¶ä»–æ”¹åŠ¨" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼çš„å…¶ä»–æ”¹åŠ¨"></a>æ­£åˆ™è¡¨è¾¾å¼çš„å…¶ä»–æ”¹åŠ¨</h2><h3 id="y-æ ‡å¿—"><a href="#y-æ ‡å¿—" class="headerlink" title="y æ ‡å¿—"></a>y æ ‡å¿—</h3><p>y æ ‡å¿—å½±å“æ­£åˆ™è¡¨è¾¾å¼æœç´¢æ—¶çš„ç²˜è¿ï¼ˆ sticky ï¼‰å±æ€§ï¼Œå®ƒè¡¨ç¤ºä»æ­£åˆ™è¡¨è¾¾å¼çš„ lastIndex å±æ€§å€¼çš„ä½ç½®å¼€å§‹æ£€ç´¢å­—ç¬¦ä¸²ä¸­çš„åŒ¹é…å­—ç¬¦ã€‚å¦‚æœåœ¨è¯¥ä½ç½®æ²¡æœ‰åŒ¹é…æˆåŠŸï¼Œé‚£ä¹ˆæ­£åˆ™è¡¨è¾¾å¼å°†åœæ­¢æ£€ç´¢</p>
<h3 id="å¤åˆ¶æ­£åˆ™è¡¨è¾¾å¼"><a href="#å¤åˆ¶æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="å¤åˆ¶æ­£åˆ™è¡¨è¾¾å¼"></a>å¤åˆ¶æ­£åˆ™è¡¨è¾¾å¼</h3><p>å…è®¸å¤åˆ¶æ­£åˆ™è¡¨è¾¾å¼æ—¶ä¿®æ”¹æ ‡å¿—</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> re1 = <span class="hljs-regexp">/ab/i</span>,<br><span class="hljs-comment">// ES5 ä¸­ä¼šæŠ›å‡ºé”™è¯¯, ES6 ä¸­å¯ç”¨</span><br>re2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(re1, <span class="hljs-string">&quot;g&quot;</span>);	<span class="hljs-comment">// å¦‚æœæ²¡æœ‰ç¬¬äºŒä¸ªå‚æ•°, re2 å°±ä¼šæ‹¥æœ‰ä¸ re1 ç›¸åŒçš„æ ‡å¿—ã€‚</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(re1.<span class="hljs-title function_">toString</span>()); <span class="hljs-comment">// &quot;/ab/i&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(re2.<span class="hljs-title function_">toString</span>()); <span class="hljs-comment">// &quot;/ab/g&quot;</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(re1.<span class="hljs-title function_">test</span>(<span class="hljs-string">&quot;ab&quot;</span>)); <span class="hljs-comment">// true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(re2.<span class="hljs-title function_">test</span>(<span class="hljs-string">&quot;ab&quot;</span>)); <span class="hljs-comment">// true</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(re1.<span class="hljs-title function_">test</span>(<span class="hljs-string">&quot;AB&quot;</span>)); <span class="hljs-comment">// true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(re2.<span class="hljs-title function_">test</span>(<span class="hljs-string">&quot;AB&quot;</span>)); <span class="hljs-comment">// false</span><br></code></pre></td></tr></table></figure>



<h3 id="flags-å±æ€§"><a href="#flags-å±æ€§" class="headerlink" title="flags å±æ€§"></a>flags å±æ€§</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> re = <span class="hljs-regexp">/ab/g</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(re.<span class="hljs-property">source</span>); <span class="hljs-comment">// &quot;ab&quot; ES5å°±æœ‰</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(re.<span class="hljs-property">flags</span>); <span class="hljs-comment">// &quot;g&quot;</span><br></code></pre></td></tr></table></figure>



<h2 id="æ¨¡æ¿å­—ç¬¦ä¸²"><a href="#æ¨¡æ¿å­—ç¬¦ä¸²" class="headerlink" title="æ¨¡æ¿å­—ç¬¦ä¸²"></a>æ¨¡æ¿å­—ç¬¦ä¸²</h2><p><strong>æ¨¡æ¿å­—ç¬¦ä¸²è§£å†³äº†ä»€ä¹ˆé—®é¢˜ï¼š</strong></p>
<p>å¤šè¡Œå­—ç¬¦ä¸²ï¼šé’ˆå¯¹å¤šè¡Œå­—ç¬¦ä¸²çš„å½¢å¼æ¦‚å¿µï¼›</p>
<p>åŸºæœ¬çš„å­—ç¬¦ä¸²æ ¼å¼åŒ–ï¼šå°†å­—ç¬¦ä¸²éƒ¨åˆ†æ›¿æ¢ä¸ºå·²å­˜åœ¨çš„å˜é‡å€¼çš„èƒ½åŠ›ï¼›</p>
<p>HTML è½¬ä¹‰ï¼šèƒ½è½¬æ¢å­—ç¬¦ä¸²ä»¥ä¾¿å°†å…¶å®‰å…¨æ’å…¥åˆ° HTML ä¸­çš„èƒ½åŠ›ã€‚</p>
<h3 id="å¤šè¡Œå­—ç¬¦ä¸²"><a href="#å¤šè¡Œå­—ç¬¦ä¸²" class="headerlink" title="å¤šè¡Œå­—ç¬¦ä¸²"></a>å¤šè¡Œå­—ç¬¦ä¸²</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> message = <span class="hljs-string">`Multiline</span><br><span class="hljs-string">string`</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(message); <br><span class="hljs-comment">// &quot;Multiline</span><br><span class="hljs-comment">// string&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(message.<span class="hljs-property">length</span>); <span class="hljs-comment">// 16</span><br></code></pre></td></tr></table></figure>

<p>åå¼•å·ä¹‹å†…çš„æ‰€æœ‰ç©ºç™½ç¬¦éƒ½æ˜¯å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†ï¼Œå› æ­¤éœ€è¦ç•™æ„ç¼©è¿›</p>
<p>å¦‚æœè®©å¤šè¡Œæ–‡æœ¬ä¿æŒåˆé€‚çš„ç¼©è¿›å¾ˆé‡è¦ï¼Œè€ƒè™‘å°†å¤šè¡Œæ¨¡æ¿å­—é¢é‡çš„ç¬¬ä¸€è¡Œç©ºç½®å¹¶åœ¨æ­¤åè¿›è¡Œç¼©è¿›</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> html = <span class="hljs-string">`</span><br><span class="hljs-string">&lt;div&gt;</span><br><span class="hljs-string">&lt;h1&gt;Title&lt;/h1&gt;</span><br><span class="hljs-string">&lt;/div&gt;`</span>.<span class="hljs-title function_">trim</span>();<br></code></pre></td></tr></table></figure>



<h3 id="åˆ¶é€ æ›¿ä»£ä½"><a href="#åˆ¶é€ æ›¿ä»£ä½" class="headerlink" title="åˆ¶é€ æ›¿ä»£ä½"></a>åˆ¶é€ æ›¿ä»£ä½</h3><p>${ä»»æ„è¡¨è¾¾å¼}</p>
<p>æ¨¡æ¿å­—é¢é‡æœ¬èº«ä¹Ÿæ˜¯ JS è¡¨è¾¾å¼ï¼Œå› æ­¤å¯åµŒå¥—</p>
<h3 id="æ ‡ç­¾åŒ–æ¨¡æ¿"><a href="#æ ‡ç­¾åŒ–æ¨¡æ¿" class="headerlink" title="æ ‡ç­¾åŒ–æ¨¡æ¿"></a>æ ‡ç­¾åŒ–æ¨¡æ¿</h3><p>ä¸€ä¸ªæ¨¡æ¿æ ‡ç­¾ï¼ˆ template tag ï¼‰èƒ½å¯¹æ¨¡æ¿å­—é¢é‡è¿›è¡Œè½¬æ¢å¹¶è¿”å›æœ€ç»ˆçš„å­—ç¬¦ä¸²å€¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> message = tag<span class="hljs-string">`Hello world`</span>;<br></code></pre></td></tr></table></figure>



<p>æ ‡ç­¾ï¼ˆ tag ï¼‰æ˜¯å‡½æ•°ï¼Œå®ƒè¢«è°ƒç”¨æ—¶æ¥æ”¶éœ€è¦å¤„ç†çš„æ¨¡æ¿å­—é¢é‡æ•°æ®ã€‚æ ‡ç­¾æ‰€æ¥æ”¶çš„æ•°æ®è¢«åˆ’åˆ†ä¸ºç‹¬ç«‹ç‰‡æ®µï¼Œå¹¶ä¸”å¿…é¡»å°†å®ƒä»¬ç»„åˆèµ·æ¥ä»¥åˆ›å»ºç»“æœã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ä¸ªæ•°ç»„ï¼ŒåŒ…å«è¢« JS è§£é‡Šè¿‡çš„å­—é¢é‡å­—ç¬¦ä¸²ï¼Œéšåçš„å‚æ•°æ˜¯æ¯ä¸ªæ›¿æ¢ä½çš„è§£é‡Šå€¼ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">tag</span>(<span class="hljs-params">literals, ...substitutions</span>) &#123;<br>    <span class="hljs-comment">// è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²</span><br>&#125;<br></code></pre></td></tr></table></figure>



<p><strong>å†…ç½®çš„æ ‡ç­¾ String.raw()</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> message1 = <span class="hljs-string">`Multiline\nstring`</span>,<br>message2 = <span class="hljs-title class_">String</span>.<span class="hljs-property">raw</span><span class="hljs-string">`Multiline\nstring`</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(message1);<br><span class="hljs-comment">// &quot;Multiline</span><br><span class="hljs-comment">// string&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(message2); <span class="hljs-comment">// &quot;Multiline\\nstring&quot;</span><br></code></pre></td></tr></table></figure>

<p>å†…éƒ¨å®ç°</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">raw</span>(<span class="hljs-params">literals, ...substitutions</span>) &#123;<br>    <span class="hljs-keyword">let</span> result = <span class="hljs-string">&quot;&quot;</span>;<br>    <span class="hljs-comment">// ä»…ä½¿ç”¨ substitution çš„å…ƒç´ æ•°é‡æ¥è¿›è¡Œå¾ªç¯</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; substitutions.<span class="hljs-property">length</span>; i++) &#123;<br>        result += literals.<span class="hljs-property">raw</span>[i]; <span class="hljs-comment">// æ”¹ä¸ºä½¿ç”¨åŸå§‹å€¼</span><br>        result += substitutions[i];<br>    &#125;<br>    <span class="hljs-comment">// æ·»åŠ æœ€åä¸€ä¸ªå­—é¢é‡</span><br>    result += literals.<span class="hljs-property">raw</span>[literals.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>];<br>    <span class="hljs-keyword">return</span> result;<br>&#125;<br><span class="hljs-keyword">let</span> message = raw<span class="hljs-string">`Multiline\nstring`</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(message); <span class="hljs-comment">// &quot;Multiline\\nstring&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(message.<span class="hljs-property">length</span>); <span class="hljs-comment">// 17</span><br></code></pre></td></tr></table></figure>



<h1 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h1><img src="/2022/07/21/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3ES6/image-20220721204939237.png" srcset="/img/loading.gif" lazyload class="" title="image-20220721204939237">

<h2 id="å‚æ•°é»˜è®¤å€¼"><a href="#å‚æ•°é»˜è®¤å€¼" class="headerlink" title="å‚æ•°é»˜è®¤å€¼"></a>å‚æ•°é»˜è®¤å€¼</h2><p>å‚æ•°é»˜è®¤å€¼çš„å­˜åœ¨è§¦å‘äº† arguments å¯¹è±¡ä¸å…·åå‚æ•°çš„åˆ†ç¦»</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// éä¸¥æ ¼æ¨¡å¼</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">mixArgs</span>(<span class="hljs-params">first, second = <span class="hljs-string">&quot;b&quot;</span></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span>);          <span class="hljs-comment">// 1</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(first === <span class="hljs-variable language_">arguments</span>[<span class="hljs-number">0</span>]);    <span class="hljs-comment">// true  </span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(second === <span class="hljs-variable language_">arguments</span>[<span class="hljs-number">1</span>]);   <span class="hljs-comment">// false</span><br>    first = <span class="hljs-string">&quot;c&quot;</span>;<br>    second = <span class="hljs-string">&quot;d&quot;</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(first === <span class="hljs-variable language_">arguments</span>[<span class="hljs-number">0</span>]);    <span class="hljs-comment">// false</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(second === <span class="hljs-variable language_">arguments</span>[<span class="hljs-number">1</span>]);   <span class="hljs-comment">// false</span><br>&#125;<br><span class="hljs-title function_">mixArgs</span>(<span class="hljs-string">&quot;a&quot;</span>);<br></code></pre></td></tr></table></figure>



<p>å‚æ•°é»˜è®¤å€¼å¯ä»¥ä½¿ç”¨è¡¨è¾¾å¼</p>
<p>å‚æ•°é»˜è®¤å€¼å­˜åœ¨æš‚æ—¶æ€§æ­»åŒº</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">add</span>(<span class="hljs-params">first = second, second</span>) &#123;<br>    <span class="hljs-keyword">return</span> first + second;<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">add</span>(<span class="hljs-number">1</span>, <span class="hljs-number">1</span>)); <span class="hljs-comment">// 2</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">add</span>(<span class="hljs-literal">undefined</span>, <span class="hljs-number">1</span>)); <span class="hljs-comment">// æŠ›å‡ºé”™è¯¯</span><br></code></pre></td></tr></table></figure>



<h2 id="å‰©ä½™å‚æ•°"><a href="#å‰©ä½™å‚æ•°" class="headerlink" title="å‰©ä½™å‚æ•°"></a>å‰©ä½™å‚æ•°</h2><p>â€¦å…·åå‚æ•°</p>
<p>æ˜¯åŒ…å«ä¼ é€’ç»™å‡½æ•°çš„å…¶ä½™å‚æ•°çš„ä¸€ä¸ªæ•°ç»„</p>
<p>å‡½æ•°çš„ length å±æ€§ç”¨äºæŒ‡ç¤ºå‰§åå‚æ•°çš„æ•°é‡ï¼Œè€Œå‰©ä½™å‚æ•°å¯¹å…¶æ¯«æ— å½±å“</p>
<p><strong>å‰©ä½™å‚æ•°çš„é™åˆ¶æ¡ä»¶ï¼š</strong></p>
<p>ä¸€ã€å‡½æ•°åªèƒ½æœ‰ä¸€ä¸ªå‰©ä½™å‚æ•°ï¼Œå¹¶ä¸”å®ƒå¿…é¡»è¢«æ”¾åœ¨æœ€åã€‚</p>
<p>äºŒã€å‰©ä½™å‚æ•°ä¸èƒ½åœ¨å¯¹è±¡å­—é¢é‡çš„ setter å±æ€§ä¸­ä½¿ç”¨ã€‚ï¼ˆå¯¹è±¡å­—é¢é‡çš„ setter è¢«é™å®šåªèƒ½ä½¿ç”¨å•ä¸ªå‚æ•°ï¼‰</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> object = &#123;<br><span class="hljs-comment">// è¯­æ³•é”™è¯¯ï¼šä¸èƒ½åœ¨ setter ä¸­ä½¿ç”¨å‰©ä½™å‚æ•°</span><br>    <span class="hljs-keyword">set</span> <span class="hljs-title function_">name</span>(<span class="hljs-params">...value</span>) &#123;<br>        <span class="hljs-comment">// ä¸€äº›æ“ä½œ</span><br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>



<p><strong>è®¾è®¡å‰©ä½™å‚æ•°æ˜¯ä¸ºäº†æ›¿ä»£ ES ä¸­çš„ arguments</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">checkArgs</span>(<span class="hljs-params">...args</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(args.<span class="hljs-property">length</span>);			<span class="hljs-comment">// 2</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span>);		<span class="hljs-comment">// 2</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(args[<span class="hljs-number">0</span>], <span class="hljs-variable language_">arguments</span>[<span class="hljs-number">0</span>]);	<span class="hljs-comment">// a a</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(args[<span class="hljs-number">1</span>], <span class="hljs-variable language_">arguments</span>[<span class="hljs-number">1</span>]);	<span class="hljs-comment">// b b</span><br>&#125;<br><span class="hljs-title function_">checkArgs</span>(<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>);<br></code></pre></td></tr></table></figure>



<p><strong>æ‹“å±•è¿ç®—ç¬¦</strong></p>
<p>æ‹“å±•è¿ç®—ç¬¦å¸¸å’Œå‰©ä½™å‚æ•°ä¸€èµ·ä½¿ç”¨</p>
<p>ä»¥ä¸€ä¸ªä¾‹å­ä¸ºä¾‹ï¼ŒæŸ¥æ‰¾æ•°ç»„æœ€å¤§å€¼</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ES5åŠä»¥å‰</span><br><span class="hljs-keyword">let</span> values = [<span class="hljs-number">25</span>, <span class="hljs-number">50</span>, <span class="hljs-number">75</span>, <span class="hljs-number">100</span>]<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-property">max</span>.<span class="hljs-title function_">apply</span>(<span class="hljs-title class_">Math</span>, values)); <span class="hljs-comment">// 100</span><br><br><span class="hljs-comment">// ES6</span><br><span class="hljs-keyword">let</span> values = [<span class="hljs-number">25</span>, <span class="hljs-number">50</span>, <span class="hljs-number">75</span>, <span class="hljs-number">100</span>]<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(...values)); <span class="hljs-comment">// 100</span><br></code></pre></td></tr></table></figure>



<h2 id="ES6-çš„åç§°å±æ€§"><a href="#ES6-çš„åç§°å±æ€§" class="headerlink" title="ES6 çš„åç§°å±æ€§"></a>ES6 çš„åç§°å±æ€§</h2><p>åŒ¿åå‡½æ•°ä½¿å¾—è°ƒè¯•å›°éš¾ï¼Œå› æ­¤ ES6 ç»™æ‰€æœ‰å‡½æ•°æ·»åŠ äº† name å±æ€§ã€‚name ä»…ç”¨äºåœ¨è°ƒè¯•æ—¶è·å¾—å‡½æ•°çš„ç›¸å…³ä¿¡æ¯ï¼Œä¸èƒ½è·å–å¯¹å‡½æ•°çš„å¼•ç”¨</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">doSomething</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// ...</span><br>&#125;<br><span class="hljs-keyword">var</span> doAnotherThing = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// ...</span><br>&#125;;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(doSomething.<span class="hljs-property">name</span>); <span class="hljs-comment">// &quot;doSomething&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(doAnotherThing.<span class="hljs-property">name</span>); <span class="hljs-comment">// &quot;doAnotherThing&quot;</span><br></code></pre></td></tr></table></figure>



<p><strong>ç‰¹æ®Šæƒ…å†µ</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> doSomething = <span class="hljs-keyword">function</span> <span class="hljs-title function_">doSomethingElse</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// ...</span><br>&#125;;<br><span class="hljs-keyword">var</span> person = &#123;<br>    <span class="hljs-keyword">get</span> <span class="hljs-title function_">firstName</span>() &#123;<br>    	<span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Nicholas&quot;</span><br>	&#125;,<br>    <span class="hljs-attr">sayName</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);<br>    &#125;<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(doSomething.<span class="hljs-property">name</span>); <span class="hljs-comment">// &quot;doSomethingElse&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person.<span class="hljs-property">sayName</span>.<span class="hljs-property">name</span>); <span class="hljs-comment">// &quot;sayName&quot;</span><br><span class="hljs-keyword">var</span> descriptor = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertyDescriptor</span>(person, <span class="hljs-string">&quot;firstName&quot;</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(descriptor.<span class="hljs-property">get</span>.<span class="hljs-property">name</span>); <span class="hljs-comment">// &quot;get firstName&quot;</span><br></code></pre></td></tr></table></figure>

<p>getter å‡½æ•°ä¼šæœ‰ get å‰ç¼€ï¼Œsetter å‡½æ•°ä¼šæœ‰ set å‰ç¼€</p>
<p>getter ä¸ setter å‡½æ•°éƒ½å¿…é¡»ä½¿ç”¨ Object.getOwnPropertyDescriptor æ¥æ£€ç´¢</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> doSomething = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br><span class="hljs-comment">// ...</span><br>&#125;;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(doSomething.<span class="hljs-title function_">bind</span>().<span class="hljs-property">name</span>); <span class="hljs-comment">// &quot;bound doSomething&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>((<span class="hljs-keyword">new</span> <span class="hljs-title class_">Function</span>()).<span class="hljs-property">name</span>); <span class="hljs-comment">// &quot;anonymous&quot;</span><br></code></pre></td></tr></table></figure>

<p>ä½¿ç”¨ bind() åˆ›å»ºçš„å‡½æ•°ä¼šæœ‰ bound å‰ç¼€</p>
<p>ä½¿ç”¨ Function æ„é€ å™¨åˆ›å»ºçš„å‡½æ•°ä¼šæœ‰ anonymous å‰ç¼€</p>
<h2 id="æ˜ç¡®å‡½æ•°çš„åŒé‡ç”¨é€”"><a href="#æ˜ç¡®å‡½æ•°çš„åŒé‡ç”¨é€”" class="headerlink" title="æ˜ç¡®å‡½æ•°çš„åŒé‡ç”¨é€”"></a>æ˜ç¡®å‡½æ•°çš„åŒé‡ç”¨é€”</h2><p>ä¸€èˆ¬å‡½æ•° å’Œ æ„é€ å‡½æ•°(new)ï¼Œæ„é€ å‡½æ•°åé¦–å­—æ¯å¤§å†™</p>
<p>JS ä¸ºå‡½æ•°æä¾›äº†ä¸¤ä¸ªå†…éƒ¨æ–¹æ³•ï¼Œ[[Call]] å’Œ [[Construct]]</p>
<p>å‡½æ•°æœªä½¿ç”¨ new è°ƒç”¨æ—¶ï¼Œ[[call]] æ–¹æ³•æ‰§è¡Œï¼Œè¿è¡Œå‡½æ•°ä½“</p>
<p>å‡½æ•°ä½¿ç”¨ new è°ƒç”¨æ—¶ï¼Œ[[Construct]] æ–¹æ³•è°ƒç”¨ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œå¹¶ä¸”ä»¥è¯¥å¯¹è±¡ä¸º this æ‰§è¡Œå‡½æ•°ä½“</p>
<p>æ‹¥æœ‰ [[Constructor]] æ–¹æ³•çš„å‡½æ•°è¢«ç§°ä¸ºæ„é€ å™¨</p>
<p><strong>åˆ¤æ–­è°ƒç”¨çš„æ˜¯ä»€ä¹ˆæ–¹æ³•</strong></p>
<p>å½“ [[Constructor]] è¢«è°ƒç”¨æ—¶ï¼Œnew.target ä¸º new è°ƒç”¨çš„æ„é€ å‡½æ•°</p>
<p>å½“ [[Call]] è¢«è°ƒç”¨æ—¶ï¼Œnew.target ä¸º undefiend</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name</span>) &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">new</span>.<span class="hljs-property">target</span> !== <span class="hljs-string">&quot;undefined&quot;</span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">new</span>.<span class="hljs-property">target</span>)			<span class="hljs-comment">// [Function: Person]</span><br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name; <span class="hljs-comment">// ä½¿ç”¨ new</span><br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&quot;You must use new with Person.&quot;</span>)<br>    &#125;   <br>&#125;<br><span class="hljs-keyword">var</span> person = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Person</span>(<span class="hljs-string">&quot;Nicholas&quot;</span>);<br><span class="hljs-keyword">var</span> notAPerson = <span class="hljs-title class_">Person</span>.<span class="hljs-title function_">call</span>(person, <span class="hljs-string">&quot;Michael&quot;</span>); <span class="hljs-comment">// å‡ºé”™ï¼</span><br></code></pre></td></tr></table></figure>



<h2 id="å—çº§å‡½æ•°"><a href="#å—çº§å‡½æ•°" class="headerlink" title="å—çº§å‡½æ•°"></a>å—çº§å‡½æ•°</h2><p>å—çº§å‡½æ•°ä¼šè¢«æå‡åˆ°æ‰€åœ¨ä»£ç å—çš„é¡¶éƒ¨</p>
<p>è€Œä½¿ç”¨ let çš„å‡½æ•°è¡¨è¾¾å¼ä¸ä¼š</p>
<h2 id="ç®­å¤´å‡½æ•°"><a href="#ç®­å¤´å‡½æ•°" class="headerlink" title="ç®­å¤´å‡½æ•°"></a>ç®­å¤´å‡½æ•°</h2><p>æ²¡æœ‰ this ã€ super ã€ arguments ï¼Œä¹Ÿæ²¡æœ‰ new.target ç»‘å®šã€‚this ã€ super ã€arguments ã€ä»¥åŠå‡½æ•°å†…éƒ¨çš„ new.target çš„å€¼ç”±æ‰€åœ¨çš„ã€æœ€é è¿‘çš„éç®­å¤´å‡½æ•°æ¥å†³å®šã€‚</p>
<p>ä¸èƒ½è¢«ä½¿ç”¨ new è°ƒç”¨ï¼š ç®­å¤´å‡½æ•°æ²¡æœ‰ [[Construct]] æ–¹æ³•ï¼Œå› æ­¤ä¸èƒ½è¢«ç”¨ä¸ºæ„é€ å‡½æ•°ï¼Œä½¿ç”¨ new è°ƒç”¨ç®­å¤´å‡½æ•°ä¼šæŠ›å‡ºé”™è¯¯ã€‚</p>
<p>æ²¡æœ‰åŸå‹ï¼š æ—¢ç„¶ä¸èƒ½å¯¹ç®­å¤´å‡½æ•°ä½¿ç”¨ new ï¼Œé‚£ä¹ˆå®ƒä¹Ÿä¸éœ€è¦åŸå‹ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰prototype å±æ€§ã€‚</p>
<p>ä¸èƒ½æ›´æ”¹ this ï¼š this çš„å€¼åœ¨å‡½æ•°å†…éƒ¨ä¸èƒ½è¢«ä¿®æ”¹ï¼Œåœ¨å‡½æ•°çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…å…¶å€¼ä¼šä¿æŒä¸å˜ã€‚</p>
<p>æ²¡æœ‰ arguments å¯¹è±¡ï¼š æ—¢ç„¶ç®­å¤´å‡½æ•°æ²¡æœ‰ arguments ç»‘å®šï¼Œä½ å¿…é¡»ä¾èµ–äºå…·åå‚æ•°æˆ–å‰©ä½™å‚æ•°æ¥è®¿é—®å‡½æ•°çš„å‚æ•°ã€‚</p>
<p>ä¸å…è®¸é‡å¤çš„å…·åå‚æ•°ï¼š ç®­å¤´å‡½æ•°ä¸å…è®¸æ‹¥æœ‰é‡å¤çš„å…·åå‚æ•°ï¼Œæ— è®ºæ˜¯å¦åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼›è€Œç›¸å¯¹æ¥è¯´ï¼Œä¼ ç»Ÿå‡½æ•°åªæœ‰åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹æ‰ç¦æ­¢è¿™ç§é‡å¤ã€‚</p>
<p>ç®­å¤´å‡½æ•°ä¹Ÿæ‹¥æœ‰ name å±æ€§ï¼Œå¹¶ä¸”éµå¾ªä¸å…¶ä»–å‡½æ•°ç›¸åŒçš„è§„åˆ™</p>
<h2 id="å°¾è°ƒç”¨ä¼˜åŒ–"><a href="#å°¾è°ƒç”¨ä¼˜åŒ–" class="headerlink" title="å°¾è°ƒç”¨ä¼˜åŒ–"></a>å°¾è°ƒç”¨ä¼˜åŒ–</h2><p>è¿™æ˜¯ä¸€é¡¹å¼•æ“ä¼˜åŒ–ï¼Œæ”¹å˜äº†å°¾éƒ¨è°ƒç”¨çš„ç³»ç»Ÿã€‚</p>
<p>å°¾è°ƒç”¨ï¼ˆtail call ï¼‰æŒ‡çš„æ˜¯è°ƒç”¨å‡½æ•°çš„è¯­å¥æ˜¯å¦ä¸€ä¸ªå‡½æ•°çš„æœ€åè¯­å¥</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs JS"><span class="hljs-keyword">function</span> <span class="hljs-title function_">doSomething</span>(<span class="hljs-params"></span>) &#123;<br>	<span class="hljs-keyword">return</span> <span class="hljs-title function_">doSomethingElse</span>(); <span class="hljs-comment">// å°¾è°ƒç”¨</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>åœ¨ ES5 å¼•æ“ä¸­å®ç°çš„å°¾è°ƒç”¨ï¼Œå…¶å¤„ç†å°±åƒå…¶ä»–å‡½æ•°è°ƒç”¨ä¸€æ ·ï¼š<strong>ä¸€ä¸ªæ–°çš„æ ˆå¸§</strong>ï¼ˆ stack frameï¼‰è¢«åˆ›å»ºå¹¶æ¨åˆ°è°ƒç”¨æ ˆä¹‹ä¸Šï¼Œç”¨äºè¡¨ç¤ºè¯¥æ¬¡å‡½æ•°è°ƒç”¨ã€‚è¿™æ„å‘³ç€<strong>ä¹‹å‰æ¯ä¸ªæ ˆå¸§éƒ½è¢«ä¿ç•™åœ¨å†…å­˜ä¸­ï¼Œå½“è°ƒç”¨æ ˆå¤ªå¤§æ—¶ä¼šå‡ºé—®é¢˜ã€‚</strong></p>
<p>ES6 åœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹åŠ›å›¾ä¸ºç‰¹å®šå°¾è°ƒç”¨å‡å°‘è°ƒç”¨æ ˆçš„å¤§å°ï¼ˆéä¸¥æ ¼æ¨¡å¼çš„å°¾è°ƒç”¨åˆ™ä¿æŒä¸å˜ï¼‰ã€‚<strong>å½“æ»¡è¶³ä»¥ä¸‹æ¡ä»¶æ—¶ï¼Œå°¾è°ƒç”¨ä¼˜åŒ–ä¼šæ¸…é™¤å½“å‰æ ˆå¸§å¹¶å†æ¬¡åˆ©ç”¨å®ƒï¼Œè€Œä¸æ˜¯ä¸ºå°¾è°ƒç”¨åˆ›å»ºæ–°çš„æ ˆå¸§</strong>ï¼š</p>
<ol>
<li>å°¾è°ƒç”¨ä¸èƒ½å¼•ç”¨å½“å‰æ ˆå¸§ä¸­çš„å˜é‡ï¼ˆæ„å‘³ç€è¯¥å‡½æ•°ä¸èƒ½æ˜¯é—­åŒ…ï¼‰ï¼›</li>
<li>è¿›è¡Œå°¾è°ƒç”¨çš„å‡½æ•°åœ¨å°¾è°ƒç”¨è¿”å›ç»“æœåä¸èƒ½åšé¢å¤–æ“ä½œï¼›</li>
<li>å°¾è°ƒç”¨çš„ç»“æœä½œä¸ºå½“å‰å‡½æ•°çš„è¿”å›å€¼ã€‚</li>
</ol>
<p><strong>å°¾è°ƒç”¨ä¼˜åŒ–ä¸»è¦æ˜¯ç”¨åœ¨é€’å½’ä¸­</strong></p>
<p>ä¸è€ƒè™‘å°¾è°ƒç”¨</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">factorial</span>(<span class="hljs-params">n</span>) &#123;<br>    <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">1</span>) &#123;<br>    	<span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>    	<span class="hljs-comment">// æœªè¢«ä¼˜åŒ–ï¼šåœ¨è¿”å›ä¹‹åè¿˜è¦æ‰§è¡Œä¹˜æ³•</span><br>    	<span class="hljs-keyword">return</span> n * <span class="hljs-title function_">factorial</span>(n - <span class="hljs-number">1</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>è€ƒè™‘å°¾è°ƒç”¨</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">factorial</span>(<span class="hljs-params">n</span>) &#123;<br>    <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">1</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-comment">// æœªè¢«ä¼˜åŒ–ï¼šåœ¨è¿”å›ä¹‹åè¿˜è¦æ‰§è¡Œä¹˜æ³•</span><br>        <span class="hljs-keyword">return</span> n * <span class="hljs-title function_">factorial</span>(n - <span class="hljs-number">1</span>);<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>åœ¨é‡å†™çš„ factorial() å‡½æ•°ä¸­ï¼Œæ·»åŠ äº†ç¬¬äºŒä¸ªå‚æ•° p ï¼Œå…¶é»˜è®¤å€¼ä¸º 1 ã€‚ p å‚æ•°ä¿å­˜ç€å‰ä¸€æ¬¡ä¹˜æ³•çš„ç»“æœï¼Œå› æ­¤ä¸‹ä¸€æ¬¡çš„ç»“æœå°±èƒ½åœ¨è¿›è¡Œå‡½æ•°è°ƒç”¨ä¹‹å‰è¢«ç®—å‡ºã€‚</p>
<p><strong>å°¾è°ƒç”¨ä¼˜åŒ–æ˜¯ä½ åœ¨ä¹¦å†™ä»»æ„é€’å½’å‡½æ•°æ—¶éƒ½éœ€è¦è€ƒè™‘çš„å› ç´ </strong>ï¼Œå› ä¸ºå®ƒèƒ½æä¾›æ˜¾è‘—çš„æ€§èƒ½æå‡ï¼Œå°¤å…¶æ˜¯è¢«åº”ç”¨åˆ°è®¡ç®—å¤æ‚åº¦å¾ˆé«˜çš„å‡½æ•°æ—¶ã€‚</p>
<h1 id="å¯¹è±¡"><a href="#å¯¹è±¡" class="headerlink" title="å¯¹è±¡"></a>å¯¹è±¡</h1><img src="/2022/07/21/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3ES6/image-20220722162911548.png" srcset="/img/loading.gif" lazyload class="" title="image-20220722162911548">

<h2 id="éœ€è®¡ç®—å±æ€§å"><a href="#éœ€è®¡ç®—å±æ€§å" class="headerlink" title="éœ€è®¡ç®—å±æ€§å"></a>éœ€è®¡ç®—å±æ€§å</h2><p>æ–¹æ‹¬å·å…è®¸ä½ å°†å˜é‡æˆ–å­—ç¬¦ä¸²å­—é¢é‡æŒ‡å®šä¸ºå±æ€§å</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// å˜é‡</span><br><span class="hljs-keyword">var</span> lastName = <span class="hljs-string">&quot;last name&quot;</span>;<br><span class="hljs-keyword">var</span> person = &#123;<br>    <span class="hljs-string">&quot;first name&quot;</span>: <span class="hljs-string">&quot;Nicholas&quot;</span>,<br>    [lastName]: <span class="hljs-string">&quot;Zakas&quot;</span><br>&#125;;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person[<span class="hljs-string">&quot;first name&quot;</span>]); <span class="hljs-comment">// &quot;Nicholas&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person[lastName]); <span class="hljs-comment">// &quot;Zakas&quot;</span><br><br><span class="hljs-comment">// å­—ç¬¦ä¸²å­—é¢é‡</span><br><span class="hljs-keyword">var</span> suffix = <span class="hljs-string">&quot; name&quot;</span>;<br><span class="hljs-keyword">var</span> person = &#123;<br>    [<span class="hljs-string">&quot;first&quot;</span> + suffix]: <span class="hljs-string">&quot;Nicholas&quot;</span>,<br>    [<span class="hljs-string">&quot;last&quot;</span> + suffix]: <span class="hljs-string">&quot;Zakas&quot;</span><br>&#125;;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person[<span class="hljs-string">&quot;first name&quot;</span>]); <span class="hljs-comment">// &quot;Nicholas&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person[<span class="hljs-string">&quot;last name&quot;</span>]); <span class="hljs-comment">// &quot;Zakas&quot;</span><br></code></pre></td></tr></table></figure>



<h2 id="æ–°æ–¹æ³•"><a href="#æ–°æ–¹æ³•" class="headerlink" title="æ–°æ–¹æ³•"></a>æ–°æ–¹æ³•</h2><h3 id="Object-is"><a href="#Object-is" class="headerlink" title="Object.is()"></a>Object.is()</h3><p>Object.is() ç”¨æ¥åˆ¤æ–­ä¸¤ä¸ªå€¼æ˜¯å¦ç›¸ç­‰ï¼Œä¿®å¤äº† &#x3D;&#x3D;&#x3D; çš„ä¸€äº›é—®é¢˜</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(+<span class="hljs-number">0</span> == -<span class="hljs-number">0</span>); <span class="hljs-comment">// true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(+<span class="hljs-number">0</span> === -<span class="hljs-number">0</span>); <span class="hljs-comment">// true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">is</span>(+<span class="hljs-number">0</span>, -<span class="hljs-number">0</span>)); <span class="hljs-comment">// false</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">NaN</span> == <span class="hljs-title class_">NaN</span>); <span class="hljs-comment">// false</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">NaN</span> === <span class="hljs-title class_">NaN</span>); <span class="hljs-comment">// false</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">is</span>(<span class="hljs-title class_">NaN</span>, <span class="hljs-title class_">NaN</span>)); <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure>



<h3 id="Object-assign"><a href="#Object-assign" class="headerlink" title="Object.assign()"></a>Object.assign()</h3><p>ç”¨äºæ··å…¥å¯¹è±¡</p>
<p>Object.assign() æ–¹æ³•æ¥å—ä»»æ„æ•°é‡çš„ä¾›åº”è€…ï¼Œè€Œæ¥æ”¶è€…ä¼šæŒ‰ç…§ä¾›åº”è€…åœ¨å‚æ•°ä¸­çš„é¡ºåºæ¥ä¾æ¬¡æ¥æ”¶å®ƒä»¬çš„å±æ€§ã€‚è¿™æ„å‘³ç€åœ¨æ¥æ”¶è€…ä¸­ï¼Œç¬¬äºŒä¸ªä¾›åº”è€…çš„å±æ€§å¯èƒ½ä¼šè¦†ç›–ç¬¬ä¸€ä¸ªä¾›åº”è€…çš„ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> receiver = &#123;&#125;;<br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(receiver,<br>    &#123;<br>        <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;js&quot;</span>,<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;file.js&quot;</span><br>    &#125;,<br>    &#123;<br>        <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;css&quot;</span><br>    &#125;<br>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(receiver.<span class="hljs-property">type</span>); <span class="hljs-comment">// &quot;css&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(receiver.<span class="hljs-property">name</span>); <span class="hljs-comment">// &quot;file.js&quot;</span><br></code></pre></td></tr></table></figure>



<p><strong>ç”±äº Object.assign() ä½¿ç”¨èµ‹å€¼è¿ç®—ç¬¦ï¼Œä¾›åº”è€…çš„è®¿é—®å™¨å±æ€§å°±ä¼šè½¬å˜æˆæ¥æ”¶è€…çš„æ•°æ®å±æ€§</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> receiver = &#123;&#125;,<br>supplier = &#123;<br>    <span class="hljs-keyword">get</span> <span class="hljs-title function_">name</span>() &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;file.js&quot;</span><br>    &#125;<br>&#125;;<br><br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">assign</span>(receiver, supplier);<br><br><span class="hljs-keyword">var</span> descriptor = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertyDescriptor</span>(receiver, <span class="hljs-string">&quot;name&quot;</span>);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(descriptor.<span class="hljs-property">value</span>); <span class="hljs-comment">// &quot;file.js&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(descriptor.<span class="hljs-property">get</span>); <span class="hljs-comment">// undefined</span><br></code></pre></td></tr></table></figure>



<h2 id="è‡ªæœ‰å±æ€§çš„æšä¸¾é¡ºåº"><a href="#è‡ªæœ‰å±æ€§çš„æšä¸¾é¡ºåº" class="headerlink" title="è‡ªæœ‰å±æ€§çš„æšä¸¾é¡ºåº"></a>è‡ªæœ‰å±æ€§çš„æšä¸¾é¡ºåº</h2><p>ES6 åˆ™ä¸¥æ ¼å®šä¹‰äº†å¯¹è±¡è‡ªæœ‰å±æ€§åœ¨è¢«æšä¸¾æ—¶è¿”å›çš„é¡ºåºã€‚</p>
<p>å¯¹ Object.getOwnPropertyNames() ä¸ Reflect.ownKeys å¦‚ä½•è¿”å›å±æ€§é€ æˆäº†å½±å“ï¼Œè¿˜åŒæ ·å½±å“äº† Object.assign() å¤„ç†å±æ€§çš„é¡ºåºã€‚</p>
<p><strong>è‡ªæœ‰å±æ€§æšä¸¾æ—¶åŸºæœ¬é¡ºåºå¦‚ä¸‹ï¼š</strong></p>
<ol>
<li>æ‰€æœ‰çš„æ•°å­—ç±»å‹é”®ï¼ŒæŒ‰å‡åºæ’åˆ—ã€‚</li>
<li>æ‰€æœ‰çš„å­—ç¬¦ä¸²ç±»å‹é”®ï¼ŒæŒ‰è¢«æ·»åŠ åˆ°å¯¹è±¡çš„é¡ºåºæ’åˆ—ã€‚</li>
<li>æ‰€æœ‰çš„ç¬¦å·ç±»å‹ï¼ˆè¯¦è§ç¬¬å…­ç« ï¼‰é”®ï¼Œä¹ŸæŒ‰æ·»åŠ é¡ºåºæ’åˆ—ã€‚</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> obj = &#123;<br>    <span class="hljs-attr">a</span>: <span class="hljs-number">1</span>,<br>    <span class="hljs-number">0</span>: <span class="hljs-number">1</span>,<br>    <span class="hljs-attr">c</span>: <span class="hljs-number">1</span>,<br>    <span class="hljs-number">2</span>: <span class="hljs-number">1</span>,<br>    <span class="hljs-attr">b</span>: <span class="hljs-number">1</span>,<br>    <span class="hljs-number">1</span>: <span class="hljs-number">1</span><br>&#125;;<br><br>obj.<span class="hljs-property">d</span> = <span class="hljs-number">1</span>;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">getOwnPropertyNames</span>(obj).<span class="hljs-title function_">join</span>(<span class="hljs-string">&quot;&quot;</span>)); <span class="hljs-comment">// &quot;012acbd&quot;</span><br></code></pre></td></tr></table></figure>

<p>æ•°å€¼ç±»å‹çš„é”®ä¼šè¢«åˆå¹¶å¹¶æ’åºï¼›å­—ç¬¦ä¸²ç±»å‹çš„é”®ä¼šè·Ÿåœ¨æ•°å€¼ç±»å‹çš„é”®ä¹‹å</p>
<p>for-in å¾ªç¯çš„æšä¸¾é¡ºåºä»æœªè¢«æ˜ç¡®è§„å®šï¼Œå› ä¸ºå¹¶éæ‰€æœ‰çš„ JS å¼•æ“éƒ½é‡‡ç”¨ç›¸åŒçš„æ–¹å¼ã€‚è€Œ Object.keys() å’Œ JSON.stringify() ä¹Ÿä½¿ç”¨äº†ä¸ for-in ä¸€æ ·çš„æšä¸¾é¡ºåºã€‚</p>
<h2 id="æ›´å¼ºå¤§çš„åŸå‹"><a href="#æ›´å¼ºå¤§çš„åŸå‹" class="headerlink" title="æ›´å¼ºå¤§çš„åŸå‹"></a>æ›´å¼ºå¤§çš„åŸå‹</h2><h3 id="ä¿®æ”¹å¯¹è±¡çš„åŸå‹"><a href="#ä¿®æ”¹å¯¹è±¡çš„åŸå‹" class="headerlink" title="ä¿®æ”¹å¯¹è±¡çš„åŸå‹"></a><strong>ä¿®æ”¹å¯¹è±¡çš„åŸå‹</strong></h3><p>ç›´åˆ° ES5 ä¸ºæ­¢ï¼Œ JS ç¼–ç¨‹æœ€é‡è¦çš„å‡å®šä¹‹ä¸€å°±æ˜¯å¯¹è±¡çš„åŸå‹åœ¨åˆå§‹åŒ–å®Œæˆåä¼šä¿æŒä¸å˜ã€‚</p>
<p>ES6 é€šè¿‡æ·»åŠ  <strong>Object.setPrototypeOf()</strong> æ–¹æ³•è€Œæ”¹å˜äº†è¿™ç§å‡å®šï¼Œæ­¤æ–¹æ³•å…è®¸ä½ ä¿®æ”¹ä»»æ„æŒ‡å®šå¯¹è±¡çš„åŸå‹ã€‚</p>
<p>å®ƒæ¥å—ä¸¤ä¸ªå‚æ•°ï¼šéœ€è¦è¢«ä¿®æ”¹åŸå‹çš„å¯¹è±¡ï¼Œä»¥åŠå°†ä¼šæˆä¸ºå‰è€…åŸå‹çš„å¯¹è±¡ã€‚</p>
<h3 id="super"><a href="#super" class="headerlink" title="super"></a><strong>super</strong></h3><p>super ä½¿å¾—åœ¨å¯¹è±¡åŸå‹ä¸Šçš„åŠŸèƒ½è°ƒç”¨å˜å¾—æ›´å®¹æ˜“</p>
<p>super æ˜¯æŒ‡å‘å½“å‰å¯¹è±¡çš„åŸå‹çš„ä¸€ä¸ªæŒ‡é’ˆï¼Œå®é™…ä¸Šå°±æ˜¯ Object.getPrototypeOf(this) çš„å€¼</p>
<h2 id="æ­£å¼çš„â€œæ–¹æ³•â€å®šä¹‰"><a href="#æ­£å¼çš„â€œæ–¹æ³•â€å®šä¹‰" class="headerlink" title="æ­£å¼çš„â€œæ–¹æ³•â€å®šä¹‰"></a>æ­£å¼çš„â€œæ–¹æ³•â€å®šä¹‰</h2><p>åœ¨ ES6 ä¹‹å‰ï¼Œâ€œæ–¹æ³•â€çš„æ¦‚å¿µä»æœªè¢«æ­£å¼å®šä¹‰ï¼Œå®ƒæ­¤å‰ä»…æŒ‡å¯¹è±¡çš„å‡½æ•°å±æ€§ï¼ˆè€Œéæ•°æ®å±æ€§ï¼‰ã€‚</p>
<p>ES6 åˆ™æ­£å¼åšå‡ºäº†å®šä¹‰ï¼š<strong>æ–¹æ³•æ˜¯ä¸€ä¸ªæ‹¥æœ‰ [[HomeObject]] å†…éƒ¨å±æ€§çš„å‡½æ•°</strong>ï¼Œæ­¤å†…éƒ¨å±æ€§æŒ‡å‘è¯¥æ–¹æ³•æ‰€å±çš„å¯¹è±¡ã€‚</p>
<p>ä»»ä½•å¯¹ super çš„å¼•ç”¨éƒ½ä¼šä½¿ç”¨ [[HomeObject]] å±æ€§æ¥åˆ¤æ–­è¦åšä»€ä¹ˆã€‚ç¬¬ä¸€æ­¥æ˜¯åœ¨ [[HomeObject]] ä¸Šè°ƒç”¨ Object.getPrototypeOf() æ¥è·å–å¯¹åŸå‹çš„å¼•ç”¨ï¼›æ¥ä¸‹æ¥ï¼Œåœ¨è¯¥åŸå‹ä¸ŠæŸ¥æ‰¾åŒåå‡½æ•°ï¼›æœ€åï¼Œåˆ›å»º this ç»‘å®šå¹¶è°ƒç”¨è¯¥æ–¹æ³•ã€‚</p>
<h1 id="è§£æ„"><a href="#è§£æ„" class="headerlink" title="è§£æ„"></a>è§£æ„</h1><img src="/2022/07/21/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3ES6/image-20220722201416156.png" srcset="/img/loading.gif" lazyload class="" title="image-20220722201416156">

<h2 id="å¯¹è±¡è§£æ„"><a href="#å¯¹è±¡è§£æ„" class="headerlink" title="å¯¹è±¡è§£æ„"></a>å¯¹è±¡è§£æ„</h2><p><strong>å½“ä½¿ç”¨è§£æ„æ¥é…åˆ var ã€ let æˆ– const æ¥å£°æ˜å˜é‡æ—¶ï¼Œå¿…é¡»æä¾›åˆå§‹åŒ–å™¨</strong>ï¼ˆå³ç­‰å·å³è¾¹çš„å€¼ï¼‰ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// è¯­æ³•é”™è¯¯ï¼</span><br><span class="hljs-keyword">var</span> &#123; type, name &#125;;<br><br><span class="hljs-comment">// è¯­æ³•é”™è¯¯ï¼</span><br><span class="hljs-keyword">let</span> &#123; type, name &#125;;<br><br><span class="hljs-comment">// è¯­æ³•é”™è¯¯ï¼</span><br><span class="hljs-keyword">const</span> &#123; type, name &#125;;<br></code></pre></td></tr></table></figure>



<p><strong>è§£æ„èµ‹å€¼è¡¨è¾¾å¼çš„å€¼ä¸ºè¡¨è¾¾å¼å³ä¾§ï¼ˆåœ¨ &#x3D; ä¹‹åï¼‰çš„å€¼ã€‚</strong></p>
<p>ä¹Ÿå°±æ˜¯è¯´åœ¨ä»»ä½•æœŸæœ›æœ‰ä¸ªå€¼çš„ä½ç½®éƒ½å¯ä»¥ä½¿ç”¨è§£æ„èµ‹å€¼è¡¨è¾¾å¼ã€‚ä¾‹å¦‚ï¼Œä¼ é€’å€¼ç»™å‡½æ•°ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> node = &#123;<br>    <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;Identifier&quot;</span>,<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;foo&quot;</span><br>&#125;,<br>type = <span class="hljs-string">&quot;Literal&quot;</span>,<br>name = <span class="hljs-number">5</span>;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">outputInfo</span>(<span class="hljs-params">value</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value === node); <span class="hljs-comment">// true</span><br>&#125;<br><br><span class="hljs-title function_">outputInfo</span>(&#123; type, name &#125; = node);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(type); <span class="hljs-comment">// &quot;Identifier&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(name); <span class="hljs-comment">// &quot;foo&quot;</span><br></code></pre></td></tr></table></figure>



<p><strong>å¯ä»¥ç»™é»˜è®¤å€¼ï¼Œä¹Ÿå¯ä»¥ç»™ä¸åŒçš„å˜é‡å</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> node = &#123;<br>    <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;Identifier&quot;</span><br>&#125;<br><br><span class="hljs-keyword">let</span> &#123;<span class="hljs-attr">type</span>: localType, <span class="hljs-attr">name</span>: localName = <span class="hljs-string">&quot;bar&quot;</span>&#125; = node<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(localType); <span class="hljs-comment">// &quot;Identifier&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(localName); <span class="hljs-comment">// &quot;bar&quot;</span><br></code></pre></td></tr></table></figure>



<p><strong>åµŒå¥—è§£æ„</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> node = &#123;<br>    <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;Identifier&quot;</span>,<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;foo&quot;</span>,<br>        <span class="hljs-attr">loc</span>: &#123;<br>        <span class="hljs-attr">start</span>: &#123;<br>            <span class="hljs-attr">line</span>: <span class="hljs-number">1</span>,<br>            <span class="hljs-attr">column</span>: <span class="hljs-number">1</span><br>        &#125;,<br>        <span class="hljs-attr">end</span>: &#123;<br>            <span class="hljs-attr">line</span>: <span class="hljs-number">1</span>,<br>            <span class="hljs-attr">column</span>: <span class="hljs-number">4</span><br>        &#125;<br>    &#125;<br>&#125;;<br><br><span class="hljs-comment">// æå– node.loc.start</span><br><span class="hljs-keyword">let</span> &#123; <span class="hljs-attr">loc</span>: &#123; <span class="hljs-attr">start</span>: localStart &#125;&#125; = node;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(localStart.<span class="hljs-property">line</span>); <span class="hljs-comment">// 1</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(localStart.<span class="hljs-property">column</span>); <span class="hljs-comment">// 1</span><br></code></pre></td></tr></table></figure>



<h2 id="æ•°ç»„è§£æ„"><a href="#æ•°ç»„è§£æ„" class="headerlink" title="æ•°ç»„è§£æ„"></a>æ•°ç»„è§£æ„</h2><p>ä¸å¯¹è±¡å·®åˆ«ä¸å¤§ï¼Œä¹Ÿæœ‰é»˜è®¤å€¼ã€åµŒå¥—è§£æ„ç­‰</p>
<p><strong>å¯ä»¥ç”¨æ¥äº¤æ¢ä¸¤ä¸ªå€¼</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">[a,b] = [b,a]<br></code></pre></td></tr></table></figure>



<p><strong>å‰©ä½™é¡¹</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> colors = [ <span class="hljs-string">&quot;red&quot;</span>, <span class="hljs-string">&quot;green&quot;</span>, <span class="hljs-string">&quot;blue&quot;</span> ];<br><span class="hljs-keyword">let</span> [ firstColor, ...restColors ] = colors;	<span class="hljs-comment">// restColors æ˜¯ä¸€ä¸ªæ•°ç»„</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(firstColor); <span class="hljs-comment">// &quot;red&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(restColors.<span class="hljs-property">length</span>); <span class="hljs-comment">// 2</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(restColors[<span class="hljs-number">0</span>]); <span class="hljs-comment">// &quot;green&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(restColors[<span class="hljs-number">1</span>]); <span class="hljs-comment">// &quot;blue&quot;</span><br></code></pre></td></tr></table></figure>



<p><strong>å…‹éš†æ•°ç»„</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// åœ¨ ES6 ä¸­å…‹éš†æ•°ç»„</span><br><span class="hljs-keyword">let</span> colors = [ <span class="hljs-string">&quot;red&quot;</span>, <span class="hljs-string">&quot;green&quot;</span>, <span class="hljs-string">&quot;blue&quot;</span> ];<br><span class="hljs-keyword">let</span> [ ...clonedColors ] = colors;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(clonedColors); <span class="hljs-comment">//&quot;[red,green,blue]&quot;</span><br></code></pre></td></tr></table></figure>



<h2 id="å‚æ•°è§£æ„"><a href="#å‚æ•°è§£æ„" class="headerlink" title="å‚æ•°è§£æ„"></a>å‚æ•°è§£æ„</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setCookie</span>(<span class="hljs-params">name, value,</span><br><span class="hljs-params">    &#123;</span><br><span class="hljs-params">        secure = <span class="hljs-literal">false</span>,</span><br><span class="hljs-params">        path = <span class="hljs-string">&quot;/&quot;</span>,</span><br><span class="hljs-params">        domain = <span class="hljs-string">&quot;example.com&quot;</span>,</span><br><span class="hljs-params">        expires = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-built_in">Date</span>.now() + <span class="hljs-number">360000000</span>)</span><br><span class="hljs-params">    &#125; = &#123;&#125;</span><br><span class="hljs-params"></span>) &#123;<br><span class="hljs-comment">// ...</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p><strong>æ­¤ä»£ç ä¸­å‚æ•°è§£æ„ç»™æ¯ä¸ªå±æ€§éƒ½æä¾›äº†é»˜è®¤å€¼</strong>ï¼Œæ‰€ä»¥ä½ å¯ä»¥é¿å…æ£€æŸ¥æŒ‡å®šå±æ€§æ˜¯å¦å·²è¢«ä¼ å…¥ï¼ˆä»¥ä¾¿åœ¨æœªä¼ å…¥æ—¶ä½¿ç”¨æ­£ç¡®çš„å€¼ï¼‰ã€‚<strong>è€Œæ•´ä¸ªè§£æ„çš„å‚æ•°åŒæ ·æœ‰ä¸€ä¸ªé»˜è®¤å€¼ï¼Œå³ä¸€ä¸ªç©ºå¯¹è±¡</strong>ï¼Œä»¤è¯¥å‚æ•°æˆä¸ºå¯é€‰å‚æ•°ã€‚</p>
<h1 id="Set-ä¸-Map"><a href="#Set-ä¸-Map" class="headerlink" title="Set ä¸ Map"></a>Set ä¸ Map</h1><img src="/2022/07/21/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3ES6/image-20220724205823067.png" srcset="/img/loading.gif" lazyload class="" title="image-20220724205823067">

<h2 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h2><h3 id="åˆ¤æ–­å€¼æ˜¯å¦é‡å¤"><a href="#åˆ¤æ–­å€¼æ˜¯å¦é‡å¤" class="headerlink" title="åˆ¤æ–­å€¼æ˜¯å¦é‡å¤"></a>åˆ¤æ–­å€¼æ˜¯å¦é‡å¤</h3><p>Set å’Œ Map ä¸ä¼šä½¿ç”¨å¼ºåˆ¶ç±»å‹è½¬æ¢æ¥åˆ¤æ–­å€¼æ˜¯å¦é‡å¤ï¼Œè€Œæ˜¯ä½¿ç”¨ Object.is() æ–¹æ³•ï¼ˆå”¯ä¸€ä¾‹å¤–æ—¶ +0 ä¸ -0 è¢«åˆ¤æ–­ä¸ºç›¸ç­‰)</p>
<h3 id="forEach"><a href="#forEach" class="headerlink" title="forEach()"></a><strong>forEach()</strong></h3><p>forEach() æ–¹æ³•ä¼šè¢«ä¼ é€’ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œè¯¥å›è°ƒæ¥å—ä¸‰ä¸ªå‚æ•°ï¼š</p>
<ol>
<li>Set ä¸­ä¸‹ä¸ªä½ç½®çš„å€¼ï¼›</li>
<li>Set ä¸­ä¸‹ä¸ªä½ç½®çš„é”®ï¼›</li>
<li>ç›®æ ‡ Set è‡ªèº«ã€‚</li>
</ol>
<p>å› ä¸º Set ä¸­ æ¯ä¸€é¡¹åŒæ—¶è®¤å®šä¸ºé”®ä¸å€¼ï¼Œå› æ­¤ 1 å’Œ 2 æ˜¯ç›¸åŒçš„</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> set = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>]);<br>set.<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">value, key, ownerSet</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(key + <span class="hljs-string">&quot; &quot;</span> + value);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ownerSet === set);<br>&#125;);<br><br><span class="hljs-number">1</span> <span class="hljs-number">1</span><br><span class="hljs-literal">true</span><br><span class="hljs-number">2</span> <span class="hljs-number">2</span><br><span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure>



<p>å¦‚æœæƒ³åœ¨å›è°ƒå‡½æ•°ä¸­ä½¿ç”¨ this ï¼Œä½ å¯ä»¥ç»™ forEach() ä¼ å…¥ä¸€ä¸ª this å€¼ä½œä¸ºç¬¬äºŒä¸ªå‚æ•°</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> set = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>]);<br><span class="hljs-keyword">let</span> processor = &#123;<br>    <span class="hljs-title function_">output</span>(<span class="hljs-params">value</span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value);<br>    &#125;,<br>    <span class="hljs-title function_">process</span>(<span class="hljs-params">dataSet</span>) &#123;<br>        dataSet.<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>) &#123;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">output</span>(value);<br>        &#125;, <span class="hljs-variable language_">this</span>);<br>    &#125;<br>&#125;;<br>processor.<span class="hljs-title function_">process</span>(set);<br></code></pre></td></tr></table></figure>



<h2 id="Weak-Set"><a href="#Weak-Set" class="headerlink" title="Weak Set"></a>Weak Set</h2><p>åªå…è®¸å­˜å‚¨å¯¹è±¡å¼±å¼•ç”¨ï¼Œä¸èƒ½å­˜å‚¨åŸºæœ¬ç±»å‹ã€‚add(åŸºæœ¬ç±»å‹)ä¼šæŠ¥é”™ï¼Œhas()æˆ–delete()ä¼šè¿”å› false</p>
<p>Weak Set ä¸å¯è¿­ä»£ï¼Œä¸èƒ½ç”¨äº for-of å¾ªç¯ï¼Œæ²¡æœ‰ keys() ä¸ values() æ–¹æ³•ï¼Œæ²¡æœ‰ forEach()ï¼Œæ²¡æœ‰ size å±æ€§</p>
<h2 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h2><h3 id="Map-çš„åˆå§‹åŒ–"><a href="#Map-çš„åˆå§‹åŒ–" class="headerlink" title="Map çš„åˆå§‹åŒ–"></a>Map çš„åˆå§‹åŒ–</h3><p><strong>ä½ èƒ½å°†æ•°ç»„ä¼ é€’ç»™ Map æ„é€ å™¨ï¼Œä»¥ä¾¿ä½¿ç”¨æ•°æ®æ¥åˆå§‹åŒ–ä¸€ä¸ª Map</strong> ã€‚è¯¥<strong>æ•°ç»„ä¸­çš„æ¯ä¸€é¡¹ä¹Ÿå¿…é¡»æ˜¯æ•°ç»„</strong>ï¼Œå†…éƒ¨æ•°ç»„çš„é¦–ä¸ªé¡¹ä¼šä½œä¸ºé”®ï¼Œç¬¬äºŒé¡¹åˆ™ä¸ºå¯¹åº”å€¼ã€‚å› æ­¤æ•´ä¸ªMap å°±è¢«è¿™äº›åŒé¡¹æ•°ç»„æ‰€å¡«å……ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>([[<span class="hljs-string">&quot;name&quot;</span>, <span class="hljs-string">&quot;Nicholas&quot;</span>], [<span class="hljs-string">&quot;age&quot;</span>, <span class="hljs-number">25</span>]]);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(map.<span class="hljs-title function_">has</span>(<span class="hljs-string">&quot;name&quot;</span>)); <span class="hljs-comment">// true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(map.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;name&quot;</span>)); <span class="hljs-comment">// &quot;Nicholas&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(map.<span class="hljs-title function_">has</span>(<span class="hljs-string">&quot;age&quot;</span>)); <span class="hljs-comment">// true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(map.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;age&quot;</span>)); <span class="hljs-comment">// 25</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(map.<span class="hljs-property">size</span>); <span class="hljs-comment">// 2</span><br></code></pre></td></tr></table></figure>



<h2 id="Weak-Map"><a href="#Weak-Map" class="headerlink" title="Weak Map"></a>Weak Map</h2><p>æ‰€æœ‰é”®éƒ½å¿…é¡»æ˜¯å¯¹è±¡ï¼Œéƒ½æ˜¯å¼±å¼•ç”¨ï¼Œä¸ä¼šå¹²æ‰°åƒåœ¾å›æ”¶ã€‚</p>
<p>æ²¡æœ‰ size å±æ€§ï¼Œæ²¡æœ‰ clear() æ–¹æ³•</p>
<p><strong>å®é™…åº”ç”¨ï¼šåœ¨å¯¹è±¡å®ä¾‹ä¸­å­˜å‚¨ç§æœ‰æ•°æ®</strong></p>
<p>åœ¨ ES6 ä¸­å¯¹è±¡çš„æ‰€æœ‰å±æ€§éƒ½æ˜¯å…¬å¼€çš„ï¼Œå› æ­¤è‹¥æƒ³è®©æ•°æ®å¯¹äºå¯¹è±¡è‡ªèº«å¯è®¿é—®ã€è€Œåœ¨å…¶ä»–æ¡ä»¶ä¸‹ä¸å¯è®¿é—®ï¼Œé‚£ä¹ˆä½ å°±éœ€è¦ä½¿ç”¨ä¸€äº›åˆ›é€ åŠ›ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ä¸€èˆ¬ç”¨ _å±æ€§ è¡¨ç¤ºç§æœ‰å±æ€§, ä½†å¹¶ä¸èƒ½åšåˆ°çœŸæ­£ç§æœ‰</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">_name</span> = name;<br>&#125;<br><span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">getName</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">_name</span>;<br>&#125;;<br></code></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> <span class="hljs-title class_">Person</span> = (<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">let</span> privateData = <span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakMap</span>();<br>    <br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">Person</span>(<span class="hljs-params">name</span>) &#123;<br>        privateData.<span class="hljs-title function_">set</span>(<span class="hljs-variable language_">this</span>, &#123; <span class="hljs-attr">name</span>: name &#125;);<br>    &#125;<br>    <br>    <span class="hljs-title class_">Person</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">getName</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> privateData.<span class="hljs-title function_">get</span>(<span class="hljs-variable language_">this</span>).<span class="hljs-property">name</span>;<br>    &#125;;<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Person</span>;<br>&#125;());<br></code></pre></td></tr></table></figure>

<p>å½“ Person æ„é€ å™¨è¢«è°ƒç”¨æ—¶ï¼Œå°† this ä½œä¸ºé”®åœ¨ Weak Map ä¸Šå»ºç«‹äº†ä¸€ä¸ªå…¥å£ï¼Œè€ŒåŒ…å«ç§æœ‰ä¿¡æ¯çš„å¯¹è±¡æˆä¸ºäº†å¯¹åº”çš„å€¼ï¼Œå…¶ä¸­åªå­˜æ”¾äº† name å±æ€§ã€‚é€šè¿‡å°† this ä¼ é€’ç»™ privateData.get() æ–¹æ³•ï¼Œä»¥è·å–å€¼å¯¹è±¡å¹¶è®¿é—®å…¶ name å±æ€§ï¼Œ getName() å‡½æ•°ä¾¿èƒ½æå–ç§æœ‰ä¿¡æ¯ã€‚è¿™ç§æŠ€æœ¯è®©ç§æœ‰ä¿¡æ¯èƒ½å¤Ÿä¿æŒç§æœ‰çŠ¶æ€ï¼Œå¹¶ä¸”å½“ä¸ä¹‹å…³è”çš„å¯¹è±¡å®ä¾‹è¢«é”€æ¯æ—¶ï¼Œç§æœ‰ä¿¡æ¯ä¹Ÿä¼šè¢«åŒæ—¶é”€æ¯ã€‚</p>
<h1 id="è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨"><a href="#è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨" class="headerlink" title="è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨"></a>è¿­ä»£å™¨ä¸ç”Ÿæˆå™¨</h1><p><strong>æ„ä¹‰ï¼š</strong></p>
<p>for å¾ªç¯éœ€è¦åˆå§‹åŒ–å˜é‡ä»¥ä¾¿è¿½è¸ªé›†åˆå†…çš„ä½ç½®ï¼Œè€Œè¿­ä»£å™¨åˆ™ä»¥ç¼–ç¨‹æ–¹å¼è¿”å›é›†åˆä¸­çš„ä¸‹ä¸€ä¸ªé¡¹ã€‚</p>
<p><strong>ä½œç”¨ï¼š</strong></p>
<p>æ–°å¢çš„ for-of ä¸å®ƒååŒå·¥ä½œï¼Œæ‰©å±•è¿ç®—ç¬¦ï¼ˆ â€¦ ï¼‰ä¹Ÿä½¿ç”¨äº†å®ƒï¼Œè€Œå®ƒç”šè‡³è¿˜èƒ½è®©å¼‚æ­¥æ“ä½œæ›´æ˜“å®Œæˆã€‚</p>
<img src="/2022/07/21/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3ES6/image-20220726144254499.png" srcset="/img/loading.gif" lazyload class="" title="image-20220726144254499">



<h2 id="è¿­ä»£å™¨"><a href="#è¿­ä»£å™¨" class="headerlink" title="è¿­ä»£å™¨"></a>è¿­ä»£å™¨</h2><h3 id="ä½•ä¸ºè¿­ä»£å™¨"><a href="#ä½•ä¸ºè¿­ä»£å™¨" class="headerlink" title="ä½•ä¸ºè¿­ä»£å™¨"></a>ä½•ä¸ºè¿­ä»£å™¨</h3><p>è¿­ä»£å™¨æ˜¯è¢«è®¾è®¡ä¸“ç”¨äºè¿­ä»£çš„å¯¹è±¡ï¼Œå¸¦æœ‰ç‰¹å®šæ¥å£ã€‚æ‰€æœ‰çš„è¿­ä»£å™¨å¯¹è±¡éƒ½æ‹¥æœ‰ next() æ–¹æ³•ï¼Œä¼šè¿”å›ä¸€ä¸ªç»“æœå¯¹è±¡ã€‚è¯¥ç»“æœå¯¹è±¡æœ‰ä¸¤ä¸ªå±æ€§ï¼šå¯¹åº”ä¸‹ä¸€ä¸ªå€¼çš„ value ï¼Œä»¥åŠä¸€ä¸ªå¸ƒå°”ç±»å‹çš„ done ï¼Œå…¶å€¼ä¸º true æ—¶è¡¨ç¤ºæ²¡æœ‰æ›´å¤šå€¼å¯ä¾›ä½¿ç”¨ã€‚è¿­ä»£å™¨æŒæœ‰ä¸€ä¸ªæŒ‡å‘é›†åˆä½ç½®çš„å†…éƒ¨æŒ‡é’ˆï¼Œæ¯å½“è°ƒç”¨äº† next() æ–¹æ³•ï¼Œè¿­ä»£å™¨å°±ä¼šè¿”å›ç›¸åº”çš„ä¸‹ä¸€ä¸ªå€¼ã€‚</p>
<p>è‹¥ä½ åœ¨æœ€åä¸€ä¸ªå€¼è¿”å›åå†è°ƒç”¨ next() ï¼Œæ‰€è¿”å›çš„ done å±æ€§å€¼ä¼šæ˜¯ true ï¼Œå¹¶ä¸” value å±æ€§å€¼ä¼šæ˜¯è¿­ä»£å™¨è‡ªèº«çš„è¿”å›å€¼ï¼ˆ return value ï¼Œå³ä½¿ç”¨ return è¯­å¥æ˜ç¡®è¿”å›çš„å€¼ï¼‰ã€‚è¯¥â€œè¿”å›å€¼â€ä¸æ˜¯åŸæ•°æ®é›†çš„ä¸€éƒ¨åˆ†ï¼Œå´ä¼šæˆä¸ºç›¸å…³æ•°æ®çš„æœ€åä¸€ä¸ªç‰‡æ®µï¼Œæˆ–åœ¨è¿­ä»£å™¨æœªæä¾›è¿”å›å€¼çš„æ—¶å€™ä½¿ç”¨ undefined ã€‚è¿­ä»£å™¨è‡ªèº«çš„è¿”å›å€¼ç±»ä¼¼äºå‡½æ•°çš„è¿”å›å€¼ï¼Œæ˜¯å‘è°ƒç”¨è€…è¿”å›ä¿¡æ¯çš„æœ€åæ‰‹æ®µã€‚</p>
<h2 id="ç”Ÿæˆå™¨"><a href="#ç”Ÿæˆå™¨" class="headerlink" title="ç”Ÿæˆå™¨"></a>ç”Ÿæˆå™¨</h2><h3 id="ä½•ä¸ºç”Ÿæˆå™¨"><a href="#ä½•ä¸ºç”Ÿæˆå™¨" class="headerlink" title="ä½•ä¸ºç”Ÿæˆå™¨"></a>ä½•ä¸ºç”Ÿæˆå™¨</h3><p>ç”Ÿæˆå™¨ï¼ˆ generator ï¼‰æ˜¯èƒ½è¿”å›ä¸€ä¸ªè¿­ä»£å™¨çš„å‡½æ•°ã€‚ç”Ÿæˆå™¨å‡½æ•°ç”±æ”¾åœ¨ function å…³é”®å­—ä¹‹åçš„ä¸€ä¸ªæ˜Ÿå·ï¼ˆ * ï¼‰æ¥è¡¨ç¤ºï¼Œå¹¶èƒ½ä½¿ç”¨æ–°çš„ yield å…³é”®å­—ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ç”Ÿæˆå™¨</span><br><span class="hljs-keyword">function</span> *<span class="hljs-title function_">createIterator</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">yield</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">yield</span> <span class="hljs-number">2</span>;<br>    <span class="hljs-keyword">yield</span> <span class="hljs-number">3</span>;<br>&#125;<br><span class="hljs-comment">// ç”Ÿæˆå™¨èƒ½åƒæ­£è§„å‡½æ•°é‚£æ ·è¢«è°ƒç”¨ï¼Œä½†ä¼šè¿”å›ä¸€ä¸ªè¿­ä»£å™¨</span><br><span class="hljs-keyword">let</span> iterator = <span class="hljs-title function_">createIterator</span>();<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>().<span class="hljs-property">value</span>); <span class="hljs-comment">// 1</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>().<span class="hljs-property">value</span>); <span class="hljs-comment">// 2</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>().<span class="hljs-property">value</span>); <span class="hljs-comment">// 3</span><br></code></pre></td></tr></table></figure>

<p>yield å…³é”®å­—ä¹Ÿæ˜¯ ES6 æ–°å¢çš„ï¼ŒæŒ‡å®šäº†è¿­ä»£å™¨åœ¨è¢« next() æ–¹æ³•è°ƒç”¨æ—¶åº”å½“æŒ‰é¡ºåºè¿”å›çš„å€¼ï¼Œä¼ é€’ç»™ next() çš„å‚æ•°ä¼šæˆä¸º yield è¯­å¥çš„å€¼ã€‚</p>
<p><strong>ç”Ÿæˆå™¨å‡½æ•°æœ€æœ‰æ„æ€çš„æ–¹é¢å¯èƒ½å°±æ˜¯å®ƒä»¬ä¼šåœ¨æ¯ä¸ª yield è¯­å¥ååœæ­¢æ‰§è¡Œï¼Œåœ¨å‡½æ•°ä¸­åœæ­¢æ‰§è¡Œçš„èƒ½åŠ›æ˜¯æå…¶å¼ºå¤§çš„ã€‚</strong></p>
<p>yield å…³é”®å­—åªèƒ½ç”¨åœ¨ç”Ÿæˆå™¨å†…éƒ¨ï¼Œç”¨äºå…¶ä»–ä½ç½®éƒ½æ—¶è¯­æ³•é”™è¯¯</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> *<span class="hljs-title function_">createIterator</span>(<span class="hljs-params">items</span>) &#123;<br>    items.<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) &#123;<br>        <span class="hljs-comment">// è¯­æ³•é”™è¯¯</span><br>        <span class="hljs-keyword">yield</span> item + <span class="hljs-number">1</span>;<br>    &#125;);<br>&#125;<br></code></pre></td></tr></table></figure>



<h3 id="ç”Ÿæˆå™¨å‡½æ•°è¡¨è¾¾å¼"><a href="#ç”Ÿæˆå™¨å‡½æ•°è¡¨è¾¾å¼" class="headerlink" title="ç”Ÿæˆå™¨å‡½æ•°è¡¨è¾¾å¼"></a>ç”Ÿæˆå™¨å‡½æ•°è¡¨è¾¾å¼</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// æ˜Ÿå·æ”¾ç½®åœ¨ function å…³é”®å­—ä¸åœ†æ‹¬å·ä¹‹é—´ï¼Œæ˜¯å› ä¸ºè¿™ä¸ªå‡½æ•°è¡¨è¾¾å¼æ˜¯åŒ¿åçš„</span><br><span class="hljs-keyword">let</span> createIterator = <span class="hljs-keyword">function</span> *(items) &#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; items.<span class="hljs-property">length</span>; i++) &#123;<br>        <span class="hljs-keyword">yield</span> items[i];<br>    &#125;<br>&#125;;<br><span class="hljs-keyword">let</span> iterator = <span class="hljs-title function_">createIterator</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);<br></code></pre></td></tr></table></figure>

<p>ä¸èƒ½å°†ç®­å¤´å‡½æ•°åˆ›å»ºä¸ºç”Ÿæˆå™¨</p>
<h3 id="ç”Ÿæˆå™¨å¯¹è±¡æ–¹æ³•"><a href="#ç”Ÿæˆå™¨å¯¹è±¡æ–¹æ³•" class="headerlink" title="ç”Ÿæˆå™¨å¯¹è±¡æ–¹æ³•"></a>ç”Ÿæˆå™¨å¯¹è±¡æ–¹æ³•</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ES6 æ–¹æ³•çš„é€Ÿè®°æ³•ï¼Œåªè¦åœ¨æ–¹æ³•åä¹‹å‰åŠ ä¸Šä¸€ä¸ªæ˜Ÿå·*</span><br><span class="hljs-keyword">var</span> o = &#123;<br>    *<span class="hljs-title function_">createIterator</span>(<span class="hljs-params">items</span>) &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; items.<span class="hljs-property">length</span>; i++) &#123;<br>            <span class="hljs-keyword">yield</span> items[i];<br>        &#125;<br>    &#125;<br>&#125;;<br><span class="hljs-keyword">let</span> iterator = o.<span class="hljs-title function_">createIterator</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);<br></code></pre></td></tr></table></figure>



<h2 id="å¯è¿­ä»£å¯¹è±¡ä¸-for-of-å¾ªç¯"><a href="#å¯è¿­ä»£å¯¹è±¡ä¸-for-of-å¾ªç¯" class="headerlink" title="å¯è¿­ä»£å¯¹è±¡ä¸ for-of å¾ªç¯"></a>å¯è¿­ä»£å¯¹è±¡ä¸ for-of å¾ªç¯</h2><p>å¯è¿­ä»£å¯¹è±¡æ—¶åŒ…å« Symbol.iterator å±æ€§çš„å¯¹è±¡ã€‚</p>
<p>ES6 ä¸­ï¼Œæ‰€æœ‰çš„é›†åˆå¯¹è±¡ï¼ˆæ•°ç»„ã€Setä¸Mapï¼‰ä»¥åŠå­—ç¬¦ä¸²éƒ½æ˜¯å¯è¿­ä»£å¯¹è±¡ã€‚</p>
<p>ç”Ÿæˆå™¨åˆ›å»ºçš„æ‰€æœ‰è¿­ä»£å™¨éƒ½æ˜¯å¯è¿­ä»£å¯¹è±¡ï¼Œå› ä¸ºç”Ÿæˆå™¨é»˜è®¤å°±ä¼šä¸º Symbol.iterator å±æ€§èµ‹å€¼ã€‚</p>
<p>å¯è¿­ä»£å¯¹è±¡è¢«è®¾è®¡ç”¨äºä¸ ES æ–°å¢çš„ for-of å¾ªç¯é…åˆä½¿ç”¨ã€‚</p>
<p><strong>for-of å¾ªç¯ä¼šè°ƒç”¨å½“å‰å¯¹è±¡çš„ Symbol.Iterator æ–¹æ³•ï¼ˆå‘ç”Ÿåœ¨åå°ï¼‰ï¼Œè·å–ä¸€ä¸ªè¿­ä»£å™¨ iteratorï¼Œç„¶ååœ¨è°ƒç”¨ iterator çš„ next</strong></p>
<p>åœ¨ä¸å¯è¿­ä»£å¯¹è±¡ã€ null æˆ– undefined ä¸Šä½¿ç”¨ for-of è¯­å¥ï¼Œä¼šæŠ›å‡ºé”™è¯¯ã€‚</p>
<h3 id="è®¿é—®é»˜è®¤è¿­ä»£å™¨"><a href="#è®¿é—®é»˜è®¤è¿­ä»£å™¨" class="headerlink" title="è®¿é—®é»˜è®¤è¿­ä»£å™¨"></a>è®¿é—®é»˜è®¤è¿­ä»£å™¨</h3><p>å¯ä»¥ä½¿ç”¨ Symbol.iterator æ¥è®¿é—®å¯¹è±¡ä¸Šçš„é»˜è®¤è¿­ä»£å™¨</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> values = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];<br><span class="hljs-keyword">let</span> iterator = values[<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span>]();<br></code></pre></td></tr></table></figure>

<p>æ—¢ç„¶ Symbol.iterator æŒ‡å®šäº†é»˜è®¤è¿­ä»£å™¨ï¼Œä½ å°±å¯ä»¥ä½¿ç”¨å®ƒæ¥æ£€æµ‹ä¸€ä¸ªå¯¹è±¡æ˜¯å¦èƒ½è¿›è¡Œè¿­ä»£</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">isIterable</span>(<span class="hljs-params">object</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> object[<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span>] === <span class="hljs-string">&quot;function&quot;</span>;<br>&#125;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">isIterable</span>([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>])); <span class="hljs-comment">// true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">isIterable</span>(<span class="hljs-string">&quot;Hello&quot;</span>)); <span class="hljs-comment">// true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">isIterable</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>())); <span class="hljs-comment">// true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">isIterable</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>())); <span class="hljs-comment">// true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">isIterable</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakMap</span>())); <span class="hljs-comment">// false</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">isIterable</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">WeakSet</span>())); <span class="hljs-comment">// false</span><br></code></pre></td></tr></table></figure>

<p>for-of å¾ªç¯åœ¨æ‰§è¡Œä¹‹å‰ä¼šåšç±»ä¼¼çš„æ£€æŸ¥ï¼Œå› æ­¤åœ¨é‡åˆ°ä¸å¯è¿­ä»£å¯¹è±¡æ˜¯æ‰ä¼šæŠ›å‡ºé”™è¯¯</p>
<p>Weak Set ä¸ Weak Map å¹¶æœªæ‹¥æœ‰å†…ç½®çš„è¿­ä»£å™¨ï¼Œä½¿ç”¨å¼±å¼•ç”¨æ„å‘³ç€æ— æ³•è·çŸ¥è¿™äº›é›†åˆå†…éƒ¨åˆ°åº•æœ‰å¤šå°‘ä¸ªå€¼ï¼ŒåŒæ—¶æ„å‘³ç€æ²¡æœ‰æ–¹æ³•å¯ä»¥è¿­ä»£è¿™äº›å€¼ã€‚</p>
<h3 id="åˆ›å»ºå¯è¿­ä»£å¯¹è±¡"><a href="#åˆ›å»ºå¯è¿­ä»£å¯¹è±¡" class="headerlink" title="åˆ›å»ºå¯è¿­ä»£å¯¹è±¡"></a>åˆ›å»ºå¯è¿­ä»£å¯¹è±¡</h3><p>å¼€å‘è€…è‡ªå®šä¹‰å¯¹è±¡é»˜è®¤æƒ…å†µä¸‹ä¸æ˜¯å¯è¿­ä»£å¯¹è±¡ï¼Œä½†ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªåŒ…å«ç”Ÿæˆå™¨çš„ Symbol.iterator å±æ€§ï¼Œè®©å®ƒä»¬æˆä¸ºå¯è¿­ä»£å¯¹è±¡ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> collection = &#123;<br>    <span class="hljs-attr">items</span>: [],<br>    *[<span class="hljs-title class_">Symbol</span>.<span class="hljs-property">iterator</span>]() &#123;<br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> item <span class="hljs-keyword">of</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">items</span>) &#123;<br>            <span class="hljs-keyword">yield</span> item;<br>        &#125;<br>    &#125;<br>&#125;;<br><br>collection.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>(<span class="hljs-number">1</span>);<br>collection.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>(<span class="hljs-number">2</span>);<br>collection.<span class="hljs-property">items</span>.<span class="hljs-title function_">push</span>(<span class="hljs-number">3</span>);<br><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> x <span class="hljs-keyword">of</span> collection) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x);<br>&#125;<br><br><span class="hljs-comment">// 1</span><br><span class="hljs-comment">// 2</span><br><span class="hljs-comment">// 3</span><br></code></pre></td></tr></table></figure>

<p>å½“ä½¿ç”¨ let-of è¿­ä»£ collection æ—¶ï¼Œä¼šè°ƒç”¨å†…éƒ¨çš„ Symbol.iteratorï¼Œä»è€Œè¿­ä»£ this.itemsã€‚</p>
<p><strong>åªæœ‰å½“å†…ç½®çš„è¿­ä»£å™¨æ— æ³•æ»¡è¶³ä½ çš„éœ€è¦æ—¶ï¼Œæ‰æœ‰å¿…è¦åˆ›å»ºè‡ªå®šä¹‰è¿­ä»£å™¨ï¼Œè¿™æœ€å¸¸å‘ç”Ÿåœ¨å®šä¹‰ä½ è‡ªå·±çš„å¯¹è±¡æˆ–ç±»æ—¶</strong></p>
<h2 id="å†…ç½®çš„è¿­ä»£å™¨"><a href="#å†…ç½®çš„è¿­ä»£å™¨" class="headerlink" title="å†…ç½®çš„è¿­ä»£å™¨"></a>å†…ç½®çš„è¿­ä»£å™¨</h2><h3 id="é›†åˆçš„è¿­ä»£å™¨"><a href="#é›†åˆçš„è¿­ä»£å™¨" class="headerlink" title="é›†åˆçš„è¿­ä»£å™¨"></a>é›†åˆçš„è¿­ä»£å™¨</h3><p>ES6 çš„ä¸‰ç§é›†åˆå¯¹è±¡ï¼šæ•°ç»„ã€Mapã€Setï¼Œéƒ½æ‹¥æœ‰å¦‚ä¸‹è¿­ä»£å™¨</p>
<p>entries() ï¼šè¿”å›ä¸€ä¸ªåŒ…å«é”®å€¼å¯¹çš„è¿­ä»£å™¨ï¼›<br>values() ï¼šè¿”å›ä¸€ä¸ªåŒ…å«é›†åˆä¸­çš„å€¼çš„è¿­ä»£å™¨ï¼›<br>keys() ï¼šè¿”å›ä¸€ä¸ªåŒ…å«é›†åˆä¸­çš„é”®çš„è¿­ä»£å™¨ã€‚</p>
<p><strong>é›†åˆçš„é»˜è®¤è¿­ä»£å™¨</strong></p>
<p>å½“ for-of å¾ªç¯æ²¡æœ‰æ˜¾å¼æŒ‡å®šè¿­ä»£å™¨æ—¶ï¼Œæ¯ç§é›†åˆç±»å‹éƒ½æœ‰ä¸€ä¸ªé»˜è®¤çš„è¿­ä»£å™¨ä¾›å¾ªç¯ä½¿ç”¨ã€‚</p>
<p><strong>values() æ–¹æ³•æ˜¯æ•°ç»„ä¸ Set çš„é»˜è®¤è¿­ä»£å™¨ï¼Œè€Œ entries() æ–¹æ³•åˆ™æ˜¯ Map çš„é»˜è®¤è¿­ä»£å™¨ã€‚</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> colors = [ <span class="hljs-string">&quot;red&quot;</span>, <span class="hljs-string">&quot;green&quot;</span>, <span class="hljs-string">&quot;blue&quot;</span> ];<br><span class="hljs-keyword">let</span> tracking = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>([<span class="hljs-number">1234</span>, <span class="hljs-number">5678</span>, <span class="hljs-number">9012</span>]);<br><span class="hljs-keyword">let</span> data = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();<br><br>data.<span class="hljs-title function_">set</span>(<span class="hljs-string">&quot;title&quot;</span>, <span class="hljs-string">&quot;Understanding ES6&quot;</span>);<br>data.<span class="hljs-title function_">set</span>(<span class="hljs-string">&quot;format&quot;</span>, <span class="hljs-string">&quot;print&quot;</span>);<br><br><span class="hljs-comment">// ä¸ä½¿ç”¨ colors.values() ç›¸åŒ</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> value <span class="hljs-keyword">of</span> colors) &#123;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(value);<br>&#125;<br><br><span class="hljs-comment">// ä¸ä½¿ç”¨ tracking.values() ç›¸åŒ</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> num <span class="hljs-keyword">of</span> tracking) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(num);<br>&#125;<br><br><span class="hljs-comment">// ä¸ä½¿ç”¨ data.entries() ç›¸åŒ</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> entry <span class="hljs-keyword">of</span> data) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(entry);<br>&#125;<br></code></pre></td></tr></table></figure>



<h3 id="å­—ç¬¦ä¸²çš„è¿­ä»£å™¨"><a href="#å­—ç¬¦ä¸²çš„è¿­ä»£å™¨" class="headerlink" title="å­—ç¬¦ä¸²çš„è¿­ä»£å™¨"></a>å­—ç¬¦ä¸²çš„è¿­ä»£å™¨</h3><p><strong>æ–¹æ‹¬å·è¡¨ç¤ºæ³•å·¥ä½œåœ¨ç å…ƒè€Œéå­—ç¬¦ä¸Š</strong>ï¼Œå› æ­¤å®ƒä¸èƒ½è¢«ç”¨äºæ­£ç¡®è®¿é—®åŒå­—èŠ‚çš„å­—ç¬¦</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> message = <span class="hljs-string">&quot;A B&quot;</span> ;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>; i &lt; message.<span class="hljs-property">length</span>; i++) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(message[i]);<br>&#125;<br><br><span class="hljs-comment">/* </span><br><span class="hljs-comment">A</span><br><span class="hljs-comment">(blank)</span><br><span class="hljs-comment">(blank)</span><br><span class="hljs-comment">(blank)</span><br><span class="hljs-comment">(blank)</span><br><span class="hljs-comment">B</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure>



<p>ES6 æ—¨åœ¨ä¸º Unicode æä¾›å®Œå…¨æ”¯æŒï¼Œå­—ç¬¦ä¸²çš„é»˜è®¤è¿­ä»£å™¨å°±æ˜¯è§£å†³å­—ç¬¦ä¸²è¿­ä»£é—®é¢˜çš„ä¸€ç§å°è¯•ã€‚è¿™æ ·ä¸€æ¥ï¼Œ<strong>å€ŸåŠ©å­—ç¬¦ä¸²é»˜è®¤è¿­ä»£å™¨å°±èƒ½å¤„ç†å­—ç¬¦è€Œä¸æ˜¯ç å…ƒã€‚</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> message = <span class="hljs-string">&quot;A B&quot;</span> ;<br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> c <span class="hljs-keyword">of</span> message) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(c);<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">A</span><br><span class="hljs-comment">(blank)</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">(blank)</span><br><span class="hljs-comment">B</span><br><span class="hljs-comment">*/</span><br></code></pre></td></tr></table></figure>



<h3 id="NodeList-çš„è¿­ä»£å™¨"><a href="#NodeList-çš„è¿­ä»£å™¨" class="headerlink" title="NodeList çš„è¿­ä»£å™¨"></a>NodeList çš„è¿­ä»£å™¨</h3><p>éšç€é»˜è®¤è¿­ä»£å™¨è¢«é™„åŠ åˆ° ES6 ï¼Œ DOM å…³äº NodeList çš„è§„å®šä¹ŸåŒ…å«äº†ä¸€ä¸ªé»˜è®¤è¿­ä»£å™¨ï¼ˆæ­¤è§„å®šåœ¨ HTML è§„èŒƒè€Œé ES6 è§„èŒƒä¸­ï¼‰ï¼Œå…¶è¡¨ç°æ–¹å¼ä¸æ•°ç»„çš„é»˜è®¤è¿­ä»£å™¨ä¸€è‡´ã€‚</p>
<h2 id="æ‰©å±•è¿ç®—ç¬¦ä¸éæ•°ç»„çš„å¯è¿­ä»£å¯¹è±¡"><a href="#æ‰©å±•è¿ç®—ç¬¦ä¸éæ•°ç»„çš„å¯è¿­ä»£å¯¹è±¡" class="headerlink" title="æ‰©å±•è¿ç®—ç¬¦ä¸éæ•°ç»„çš„å¯è¿­ä»£å¯¹è±¡"></a>æ‰©å±•è¿ç®—ç¬¦ä¸éæ•°ç»„çš„å¯è¿­ä»£å¯¹è±¡</h2><p>æ‰©å±•è¿ç®—ç¬¦èƒ½ä½œç”¨äºæ‰€æœ‰å¯è¿­ä»£å¯¹è±¡ï¼Œå¹¶ä¸”ä¼šä½¿ç”¨é»˜è®¤è¿­ä»£å™¨æ¥åˆ¤æ–­éœ€è¦ä½¿ç”¨å“ªäº›å€¼ã€‚æ‰€æœ‰çš„å€¼éƒ½ä»è¿­ä»£å™¨ä¸­è¢«è¯»å–å‡ºæ¥å¹¶æ’å…¥æ•°ç»„ï¼Œéµå¾ªè¿­ä»£å™¨è¿”å›å€¼çš„é¡ºåºã€‚</p>
<p>æ‰©å±•è¿ç®—ç¬¦æ˜¯å°†å¯è¿­ä»£å¯¹è±¡è½¬æ¢ä¸ºæ•°ç»„çš„æœ€ç®€å•æ–¹æ³•ã€‚ä½ å¯ä»¥å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºåŒ…å«å­—ç¬¦ï¼ˆè€Œéç å…ƒï¼‰çš„æ•°ç»„ï¼Œä¹Ÿèƒ½å°†æµè§ˆå™¨ä¸­çš„ NodeList å¯¹è±¡è½¬æ¢ä¸ºèŠ‚ç‚¹æ•°ç»„ã€‚</p>
<h2 id="è¿­ä»£å™¨é«˜çº§åŠŸèƒ½"><a href="#è¿­ä»£å™¨é«˜çº§åŠŸèƒ½" class="headerlink" title="è¿­ä»£å™¨é«˜çº§åŠŸèƒ½"></a>è¿­ä»£å™¨é«˜çº§åŠŸèƒ½</h2><h3 id="ä¼ é€’å‚æ•°ç»™è¿­ä»£å™¨"><a href="#ä¼ é€’å‚æ•°ç»™è¿­ä»£å™¨" class="headerlink" title="ä¼ é€’å‚æ•°ç»™è¿­ä»£å™¨"></a>ä¼ é€’å‚æ•°ç»™è¿­ä»£å™¨</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// å…³é”®åœ¨äºï¼šä¼ é€’ç»™ next() çš„å‚æ•°ä¼šæˆä¸º yield è¯­å¥çš„å€¼</span><br><span class="hljs-keyword">function</span> *<span class="hljs-title function_">createIterator</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">let</span> first = <span class="hljs-keyword">yield</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">let</span> second = <span class="hljs-keyword">yield</span> first + <span class="hljs-number">2</span>; <span class="hljs-comment">// 4 + 2</span><br>    <span class="hljs-keyword">yield</span> second + <span class="hljs-number">3</span>; <span class="hljs-comment">// 5 + 3</span><br>&#125;<br><br><span class="hljs-keyword">let</span> iterator = <span class="hljs-title function_">createIterator</span>();<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>()); <span class="hljs-comment">// &quot;&#123; value: 1, done: false &#125;&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>(<span class="hljs-number">4</span>)); <span class="hljs-comment">// &quot;&#123; value: 6, done: false &#125;&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>(<span class="hljs-number">5</span>)); <span class="hljs-comment">// &quot;&#123; value: 8, done: false &#125;&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>()); <span class="hljs-comment">// &quot;&#123; value: undefined, done: true &#125;&quot;</span><br></code></pre></td></tr></table></figure>

<img src="/2022/07/21/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3ES6/image-20220726152259722.png" srcset="/img/loading.gif" lazyload class="" title="image-20220726152259722">



<h3 id="åœ¨è¿­ä»£å™¨ä¸­æŠ›å‡ºé”™è¯¯"><a href="#åœ¨è¿­ä»£å™¨ä¸­æŠ›å‡ºé”™è¯¯" class="headerlink" title="åœ¨è¿­ä»£å™¨ä¸­æŠ›å‡ºé”™è¯¯"></a>åœ¨è¿­ä»£å™¨ä¸­æŠ›å‡ºé”™è¯¯</h3><p>èƒ½ä¼ é€’ç»™è¿­ä»£å™¨çš„ä¸ä»…æ˜¯æ•°æ®ï¼Œè¿˜å¯ä»¥æ˜¯é”™è¯¯æ¡ä»¶ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> *<span class="hljs-title function_">createIterator</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">let</span> first = <span class="hljs-keyword">yield</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">let</span> second = <span class="hljs-keyword">yield</span> first + <span class="hljs-number">2</span>; <span class="hljs-comment">// yield 4 + 2 ï¼Œç„¶åæŠ›å‡ºé”™è¯¯</span><br>    <span class="hljs-keyword">yield</span> second + <span class="hljs-number">3</span>; <span class="hljs-comment">// æ°¸ä¸ä¼šè¢«æ‰§è¡Œ</span><br>&#125;<br><span class="hljs-keyword">let</span> iterator = <span class="hljs-title function_">createIterator</span>();<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>()); <span class="hljs-comment">// &quot;&#123; value: 1, done: false &#125;&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>(<span class="hljs-number">4</span>)); <span class="hljs-comment">// &quot;&#123; value: 6, done: false &#125;&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-keyword">throw</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&quot;Boom&quot;</span>))); <span class="hljs-comment">// ä»ç”Ÿæˆå™¨ä¸­æŠ›å‡ºäº†é”™è¯¯</span><br></code></pre></td></tr></table></figure>

<img src="/2022/07/21/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3ES6/image-20220726152623070.png" srcset="/img/loading.gif" lazyload class="" title="image-20220726152623070">



<p><strong>å¯ä»¥åœ¨å†…éƒ¨ä½¿ç”¨ tryâ€¦catch æ•è·é”™è¯¯</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> *<span class="hljs-title function_">createIterator</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">let</span> first = <span class="hljs-keyword">yield</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">let</span> second;<br><br>    <span class="hljs-keyword">try</span> &#123;<br>        second = <span class="hljs-keyword">yield</span> first + <span class="hljs-number">2</span>; <span class="hljs-comment">// yield 4 + 2 ï¼Œç„¶åæŠ›å‡ºé”™è¯¯</span><br>    &#125; <span class="hljs-keyword">catch</span> (ex) &#123;<br>        second = <span class="hljs-number">6</span>; <span class="hljs-comment">// å½“å‡ºé”™æ—¶ï¼Œç»™å˜é‡å¦å¤–èµ‹å€¼</span><br>    &#125;<br>    <span class="hljs-keyword">yield</span> second + <span class="hljs-number">3</span>;<br>&#125;<br><br><span class="hljs-keyword">let</span> iterator = <span class="hljs-title function_">createIterator</span>();<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>()); <span class="hljs-comment">// &quot;&#123; value: 1, done: false &#125;&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>(<span class="hljs-number">4</span>)); <span class="hljs-comment">// &quot;&#123; value: 6, done: false &#125;&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-keyword">throw</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&quot;Boom&quot;</span>))); <span class="hljs-comment">// &quot;&#123; value: 9, done: false &#125;&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>()); <span class="hljs-comment">// &quot;&#123; value: undefined, done: true &#125;&quot;</span><br></code></pre></td></tr></table></figure>

<p>å°† next() ä¸ throw() éƒ½å½“ä½œè¿­ä»£å™¨çš„æŒ‡ä»¤ï¼Œä¼šæœ‰åŠ©äºæ€è€ƒã€‚</p>
<p>next() æ–¹æ³•æŒ‡ç¤ºè¿­ä»£å™¨ç»§ç»­æ‰§è¡Œï¼ˆå¯èƒ½ä¼šå¸¦ç€ç»™å®šçš„å€¼ï¼‰ï¼Œè€Œ throw() æ–¹æ³•åˆ™æŒ‡ç¤ºè¿­ä»£å™¨é€šè¿‡æŠ›å‡ºä¸€ä¸ªé”™è¯¯ç»§ç»­æ‰§è¡Œã€‚<strong>åœ¨è°ƒç”¨ç‚¹ä¹‹åä¼šå‘ç”Ÿä»€ä¹ˆï¼Œæ ¹æ®ç”Ÿæˆå™¨å†…éƒ¨çš„ä»£ç æ¥å†³å®šã€‚</strong></p>
<h3 id="ç”Ÿæˆå™¨çš„-return-è¯­å¥"><a href="#ç”Ÿæˆå™¨çš„-return-è¯­å¥" class="headerlink" title="ç”Ÿæˆå™¨çš„ return è¯­å¥"></a>ç”Ÿæˆå™¨çš„ return è¯­å¥</h3><p><strong>return ä¼šç»ˆæ­¢åç»­çš„ç¨‹åº</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> *<span class="hljs-title function_">createIterator</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">yield</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">return</span>;<br>    <span class="hljs-keyword">yield</span> <span class="hljs-number">2</span>;<br>    <span class="hljs-keyword">yield</span> <span class="hljs-number">3</span>;<br>&#125;<br><span class="hljs-keyword">let</span> iterator = <span class="hljs-title function_">createIterator</span>();<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>()); <span class="hljs-comment">// &quot;&#123; value: 1, done: false &#125;&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>()); <span class="hljs-comment">// &quot;&#123; value: undefined, done: true &#125;&quot;</span><br></code></pre></td></tr></table></figure>



<p><strong>return å¯ä»¥æŒ‡å®šè¿”å›å€¼</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> *<span class="hljs-title function_">createIterator</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">yield</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">42</span>;<br>&#125;<br><span class="hljs-keyword">let</span> iterator = <span class="hljs-title function_">createIterator</span>();<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>()); <span class="hljs-comment">// &quot;&#123; value: 1, done: false &#125;&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>()); <span class="hljs-comment">// &quot;&#123; value: 42, done: true &#125;&quot; éå¸¸ç‰¹æ®Šï¼Œvalue ä¸ä¸º undefinedï¼Œdone ä¸º false</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>()); <span class="hljs-comment">// &quot;&#123; value: undefined, done: true &#125;&quot;</span><br></code></pre></td></tr></table></figure>

<p><strong>æ‰©å±•è¿ç®—ç¬¦ä¸ for-of å¾ªç¯ä¼šå¿½ç•¥ return è¯­å¥æ‰€æŒ‡å®šçš„ä»»æ„å€¼ã€‚</strong>ä¸€æ—¦å®ƒä»¬çœ‹åˆ° doneçš„å€¼ä¸º true ï¼Œå®ƒä»¬å°±ä¼šåœæ­¢æ“ä½œè€Œä¸ä¼šè¯»å–å¯¹åº”çš„ value å€¼ã€‚ä¸è¿‡ï¼Œåœ¨ç”Ÿæˆå™¨è¿›è¡Œå§”æ‰˜æ—¶ï¼Œè¿­ä»£å™¨çš„è¿”å›å€¼ä¼šéå¸¸æœ‰ç”¨ã€‚</p>
<h3 id="ç”Ÿæˆå™¨å§”æ‰˜"><a href="#ç”Ÿæˆå™¨å§”æ‰˜" class="headerlink" title="ç”Ÿæˆå™¨å§”æ‰˜"></a>ç”Ÿæˆå™¨å§”æ‰˜</h3><p>ä¸€äº›æƒ…å†µä¸‹ï¼Œå°†ä¸¤ä¸ªè¿­ä»£å™¨çš„å€¼åˆå¹¶åœ¨ä¸€èµ·ä¼šæ›´æœ‰ç”¨</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> *<span class="hljs-title function_">createNumberIterator</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">yield</span> <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">yield</span> <span class="hljs-number">2</span>;<br>&#125;<br><span class="hljs-keyword">function</span> *<span class="hljs-title function_">createColorIterator</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">yield</span> <span class="hljs-string">&quot;red&quot;</span>;<br>    <span class="hljs-keyword">yield</span> <span class="hljs-string">&quot;green&quot;</span>;<br>&#125;<br><span class="hljs-keyword">function</span> *<span class="hljs-title function_">createCombinedIterator</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">yield</span> *<span class="hljs-title function_">createNumberIterator</span>();<br>    <span class="hljs-keyword">yield</span> *<span class="hljs-title function_">createColorIterator</span>();<br>    <span class="hljs-keyword">yield</span> <span class="hljs-literal">true</span>;<br>&#125;<br><span class="hljs-keyword">var</span> iterator = <span class="hljs-title function_">createCombinedIterator</span>();<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>()); <span class="hljs-comment">// &quot;&#123; value: 1, done: false &#125;&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>()); <span class="hljs-comment">// &quot;&#123; value: 2, done: false &#125;&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>()); <span class="hljs-comment">// &quot;&#123; value: &quot;red&quot;, done: false &#125;&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>()); <span class="hljs-comment">// &quot;&#123; value: &quot;green&quot;, done: false &#125;&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>()); <span class="hljs-comment">// &quot;&#123; value: true, done: false &#125;&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(iterator.<span class="hljs-title function_">next</span>()); <span class="hljs-comment">// &quot;&#123; value: undefined, done: true &#125;&quot;</span><br></code></pre></td></tr></table></figure>



<h2 id="å¼‚æ­¥ä»»åŠ¡è¿è¡Œ"><a href="#å¼‚æ­¥ä»»åŠ¡è¿è¡Œ" class="headerlink" title="å¼‚æ­¥ä»»åŠ¡è¿è¡Œ"></a>å¼‚æ­¥ä»»åŠ¡è¿è¡Œ</h2><p><strong>ç”±äºç”Ÿæˆå™¨èƒ½è®©ä½ åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­æœ‰æ•ˆåœ°æš‚åœä»£ç æ“ä½œï¼Œå®ƒå°±å¼€å¯äº†ä¸å¼‚æ­¥ç¼–ç¨‹ç›¸å…³çš„è®¸å¤šå¯èƒ½æ€§ã€‚</strong></p>
<p>ç”±äº yield èƒ½åœæ­¢è¿è¡Œï¼Œå¹¶åœ¨é‡æ–°å¼€å§‹è¿è¡Œå‰ç­‰å¾… next() æ–¹æ³•è¢«è°ƒç”¨ï¼Œä½ å°±å¯ä»¥åœ¨æ²¡æœ‰å›è°ƒå‡½æ•°çš„æƒ…å†µä¸‹å®ç°å¼‚æ­¥è°ƒç”¨ã€‚</p>
<p><strong>ä¼ ç»Ÿå¼‚æ­¥æ“ä½œ</strong></p>
<p>è°ƒç”¨ä¸€ä¸ªåŒ…å«å›è°ƒçš„å‡½æ•°</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;fs&quot;</span>);<br>fs.<span class="hljs-title function_">readFile</span>(<span class="hljs-string">&quot;config.json&quot;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">err, contents</span>) &#123;<br>    <span class="hljs-keyword">if</span> (err) &#123;<br>        <span class="hljs-keyword">throw</span> err;<br>    &#125;<br>        <br>    <span class="hljs-title function_">doSomethingWith</span>(contents);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Done&quot;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure>



<p><strong>ä½¿ç”¨ yield</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">run</span>(<span class="hljs-params">taskDef</span>) &#123;<br>    <span class="hljs-comment">// åˆ›å»ºè¿­ä»£å™¨ï¼Œè®©å®ƒåœ¨åˆ«å¤„å¯ç”¨</span><br>    <span class="hljs-keyword">let</span> task = <span class="hljs-title function_">taskDef</span>();<br>    <span class="hljs-comment">// å¯åŠ¨ä»»åŠ¡</span><br>    <span class="hljs-keyword">let</span> result = task.<span class="hljs-title function_">next</span>();<br>    <span class="hljs-comment">// é€’å½’ä½¿ç”¨å‡½æ•°æ¥ä¿æŒå¯¹ next() çš„è°ƒç”¨</span><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">step</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-comment">// å¦‚æœè¿˜æœ‰æ›´å¤šè¦åšçš„</span><br>        <span class="hljs-keyword">if</span> (!result.<span class="hljs-property">done</span>) &#123;<br>            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> result.<span class="hljs-property">value</span> === <span class="hljs-string">&quot;function&quot;</span>) &#123;<br>                result.<span class="hljs-title function_">value</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">err, data</span>) &#123;<br>                    <span class="hljs-keyword">if</span> (err) &#123;<br>                        result = task.<span class="hljs-keyword">throw</span>(err);<br>                        <span class="hljs-keyword">return</span>;<br>                    &#125;<br><br>                    result = task.<span class="hljs-title function_">next</span>(data);<br>                    <span class="hljs-title function_">step</span>();<br>                &#125;);<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                result = task.<span class="hljs-title function_">next</span>(result.<span class="hljs-property">value</span>);<br>                <span class="hljs-title function_">step</span>();<br>            &#125;<br>        &#125;<br>    &#125;<br>    <span class="hljs-comment">// å¼€å§‹å¤„ç†è¿‡ç¨‹</span><br>    <span class="hljs-title function_">step</span>();<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">run</span>(<span class="hljs-keyword">function</span>*() &#123;<br>    <span class="hljs-keyword">let</span> contents = <span class="hljs-keyword">yield</span> <span class="hljs-title function_">readFile</span>(<span class="hljs-string">&quot;config.json&quot;</span>);<br>    <span class="hljs-title function_">doSomethingWith</span>(contents);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Done&quot;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure>

<p>æ­¤ä¾‹æ‰§è¡Œäº†å¼‚æ­¥çš„ readFile() æ“ä½œï¼Œè€Œåœ¨<strong>ä¸»è¦ä»£ç ä¸­å¹¶æœªæš´éœ²å‡ºä»»ä½•å›è°ƒå‡½æ•°</strong>ã€‚é™¤äº† yield ä¹‹å¤–ï¼Œ<strong>æ­¤ä»£ç çœ‹èµ·æ¥ä¸åŒæ­¥ä»£ç å¹¶æ— äºŒè‡´</strong>ã€‚æ—¢ç„¶æ‰§è¡Œå¼‚æ­¥æ“ä½œçš„å‡½æ•°éƒ½éµå¾ªäº†åŒä¸€æ¥å£ï¼Œä½ å°±å¯ä»¥ç”¨è²Œä¼¼åŒæ­¥çš„ä»£ç æ¥ä¹¦å†™å¤„ç†é€»è¾‘ã€‚</p>
<p>çœ‹ä¸Šå»å¥½åƒæ›´å¤æ‚äº†ï¼Œä½†è¿™æ˜¯å› ä¸ºå½“å‰å›è°ƒä»»åŠ¡å°‘ï¼Œ<strong>å¦‚æœéœ€è¦åµŒå¥—å›è°ƒå‡½æ•°ï¼Œæˆ–è€…éœ€è¦æŒ‰é¡ºåºå¤„ç†ä¸€ç³»åˆ—çš„å¼‚æ­¥ä»»åŠ¡æ—¶ï¼Œä½¿ç”¨ç”Ÿæˆå™¨å’Œè¿­ä»£å™¨ä¼šæ–¹ä¾¿å¾ˆå¤š</strong>ã€‚</p>
<h1 id="JS-çš„ç±»"><a href="#JS-çš„ç±»" class="headerlink" title="JS çš„ç±»"></a>JS çš„ç±»</h1><img src="/2022/07/21/%E6%B7%B1%E5%85%A5%E7%90%86%E8%A7%A3ES6/image-20220726161901329.png" srcset="/img/loading.gif" lazyload class="" title="image-20220726161901329">



<h2 id="ES5-ä¸­çš„ä»¿ç±»ç»“æ„"><a href="#ES5-ä¸­çš„ä»¿ç±»ç»“æ„" class="headerlink" title="ES5 ä¸­çš„ä»¿ç±»ç»“æ„"></a>ES5 ä¸­çš„ä»¿ç±»ç»“æ„</h2><p><strong>è‡ªå®šä¹‰ç±»å‹</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">PersonType</span>(<span class="hljs-params">name</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>&#125;<br><br><span class="hljs-title class_">PersonType</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">sayName</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);<br>&#125;;<br><br><span class="hljs-keyword">let</span> person = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PersonType</span>(<span class="hljs-string">&quot;Nicholas&quot;</span>);<br><br>person.<span class="hljs-title function_">sayName</span>(); <span class="hljs-comment">// è¾“å‡º &quot;Nicholas&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">PersonType</span>); <span class="hljs-comment">// true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Object</span>); <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure>



<h2 id="ç±»å£°æ˜"><a href="#ç±»å£°æ˜" class="headerlink" title="ç±»å£°æ˜"></a>ç±»å£°æ˜</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">class</span> <span class="hljs-title class_">PersonClass</span> &#123;<br>    <span class="hljs-comment">// ç­‰ä»·äº PersonType æ„é€ å™¨</span><br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) &#123;<br>        <span class="hljs-comment">// è‡ªæœ‰å±æ€§</span><br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>    &#125;<br>    <span class="hljs-comment">// ç­‰ä»·äº PersonType.prototype.sayName</span><br>    <span class="hljs-title function_">sayName</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">let</span> person = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PersonClass</span>(<span class="hljs-string">&quot;Nicholas&quot;</span>);<br><br>person.<span class="hljs-title function_">sayName</span>(); <span class="hljs-comment">// è¾“å‡º &quot;Nicholas&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">PersonClass</span>); <span class="hljs-comment">// true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Object</span>); <span class="hljs-comment">// true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">PersonClass</span>); <span class="hljs-comment">// &quot;function&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">PersonClass</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">sayName</span>); <span class="hljs-comment">// &quot;function&quot;</span><br></code></pre></td></tr></table></figure>

<p><strong>è‡ªæœ‰å±æ€§ï¼šè¯¥å±æ€§å‡ºç°åœ¨å®ä¾‹ä¸Šè€Œä¸æ˜¯åŸå‹ä¸Šï¼Œåªèƒ½åœ¨ç±»çš„æ„é€ å™¨æˆ–æ–¹æ³•å†…éƒ¨è¿›è¡Œåˆ›å»ºã€‚</strong></p>
<p><strong>ç±»ä¸è‡ªå®šä¹‰ç±»å‹çš„åŒºåˆ«</strong></p>
<ol>
<li><strong>ç±»å£°æ˜ä¸ä¼šè¢«æå‡ï¼Œè¿™ä¸å‡½æ•°å®šä¹‰ä¸åŒ</strong>ã€‚ç±»å£°æ˜çš„è¡Œä¸ºä¸ let ç›¸ä¼¼ï¼Œå› æ­¤åœ¨ç¨‹åºçš„æ‰§è¡Œåˆ°è¾¾å£°æ˜å¤„ä¹‹å‰ï¼Œç±»ä¼šå­˜åœ¨äºæš‚æ—¶æ€§æ­»åŒºå†…ã€‚</li>
<li><strong>ç±»å£°æ˜ä¸­çš„æ‰€æœ‰ä»£ç ä¼šè‡ªåŠ¨è¿è¡Œåœ¨ä¸¥æ ¼æ¨¡å¼ä¸‹</strong>ï¼Œå¹¶ä¸”ä¹Ÿæ— æ³•é€€å‡ºä¸¥æ ¼æ¨¡å¼ã€‚</li>
<li><strong>ç±»çš„æ‰€æœ‰æ–¹æ³•éƒ½æ˜¯ä¸å¯æšä¸¾çš„</strong>ï¼Œè¿™æ˜¯å¯¹äºè‡ªå®šä¹‰ç±»å‹çš„æ˜¾è‘—å˜åŒ–ï¼Œåè€…å¿…é¡»ç”¨Object.defineProperty() æ‰èƒ½å°†æ–¹æ³•æ”¹å˜ä¸ºä¸å¯æšä¸¾ã€‚</li>
<li><strong>ç±»çš„æ‰€æœ‰æ–¹æ³•å†…éƒ¨éƒ½æ²¡æœ‰ [[Construct]]</strong> ï¼Œå› æ­¤ä½¿ç”¨ new æ¥è°ƒç”¨å®ƒä»¬ä¼šæŠ›å‡ºé”™è¯¯ã€‚</li>
<li><strong>è°ƒç”¨ç±»æ„é€ å™¨æ—¶ä¸ä½¿ç”¨ new</strong> ï¼Œä¼šæŠ›å‡ºé”™è¯¯ã€‚</li>
<li><strong>è¯•å›¾åœ¨ç±»çš„æ–¹æ³•å†…éƒ¨é‡å†™ç±»å</strong>ï¼Œä¼šæŠ›å‡ºé”™è¯¯ã€‚</li>
</ol>
<p><strong>å¦‚æœæˆ‘ä»¬ä¸ä½¿ç”¨ç±»æ¥å®šä¹‰ä¸Šé¢çš„ PersonClass</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// ç›´æ¥ç­‰ä»·äº PersonClass</span><br><span class="hljs-keyword">let</span> <span class="hljs-title class_">PersonType2</span> = (<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <br>    <span class="hljs-string">&quot;use strict&quot;</span>;<br>    <br>    <span class="hljs-keyword">const</span> <span class="hljs-title class_">PersonType2</span> = <span class="hljs-keyword">function</span>(<span class="hljs-params">name</span>) &#123;<br>        <br>        <span class="hljs-comment">// ç¡®è®¤å‡½æ•°è¢«è°ƒç”¨æ—¶ä½¿ç”¨äº† new</span><br>        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">new</span>.<span class="hljs-property">target</span> === <span class="hljs-string">&quot;undefined&quot;</span>) &#123;<br>            <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&quot;Constructor must be called with new.&quot;</span>);<br>        &#125;<br>        <br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>    &#125;<br>    <br>    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(<span class="hljs-title class_">PersonType2</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>, <span class="hljs-string">&quot;sayName&quot;</span>, &#123;<br>        <span class="hljs-attr">value</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>            <br>            <span class="hljs-comment">// ç¡®è®¤å‡½æ•°è¢«è°ƒç”¨æ—¶æ²¡æœ‰ä½¿ç”¨ new</span><br>            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-keyword">new</span>.<span class="hljs-property">target</span> !== <span class="hljs-string">&quot;undefined&quot;</span>) &#123;<br>            	<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&quot;Method cannot be called with new.&quot;</span>);<br>            &#125;<br>            <br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);<br>        &#125;,<br>        <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">false</span>,<br>        <span class="hljs-attr">writable</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-attr">configurable</span>: <span class="hljs-literal">true</span><br>    &#125;);<br>    <br>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">PersonType2</span>;<br>&#125;());<br></code></pre></td></tr></table></figure>



<h2 id="ç±»è¡¨è¾¾å¼"><a href="#ç±»è¡¨è¾¾å¼" class="headerlink" title="ç±»è¡¨è¾¾å¼"></a>ç±»è¡¨è¾¾å¼</h2><p>ç±»ä¸å‡½æ•°æœ‰ç›¸ä¼¼ä¹‹å¤„ï¼Œå³å®ƒä»¬éƒ½æœ‰ä¸¤ç§å½¢å¼ï¼šå£°æ˜ä¸è¡¨è¾¾å¼ã€‚</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> <span class="hljs-title class_">PersonClass</span> = <span class="hljs-keyword">class</span> <span class="hljs-title class_">PersonClass2</span> &#123;		<span class="hljs-comment">// PersonClass2 å¯çœç•¥ï¼ŒåŒ¿åå’Œå…·å</span><br>    <span class="hljs-comment">// ç­‰ä»·äº PersonType æ„é€ å™¨</span><br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">name</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = name;<br>    &#125;<br>    <br>    <span class="hljs-comment">// ç­‰ä»·äº PersonType.prototype.sayName</span><br>    <span class="hljs-title function_">sayName</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>);<br>    &#125;<br>&#125;;<br><br><span class="hljs-keyword">let</span> person = <span class="hljs-keyword">new</span> <span class="hljs-title class_">PersonClass</span>(<span class="hljs-string">&quot;Nicholas&quot;</span>);<br><br>person.<span class="hljs-title function_">sayName</span>(); <span class="hljs-comment">// è¾“å‡º &quot;Nicholas&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">PersonClass</span>); <span class="hljs-comment">// true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(person <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Object</span>); <span class="hljs-comment">// true</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">PersonClass</span>); <span class="hljs-comment">// &quot;function&quot;</span><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">PersonClass</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">sayName</span>); <span class="hljs-comment">// &quot;function&quot;</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-keyword">typeof</span> <span class="hljs-title class_">PersonClass2</span>); <span class="hljs-comment">// &quot;undefined&quot;	å¤–éƒ¨æ˜¯è®¿é—®ä¸åˆ° PersonClass2 çš„</span><br></code></pre></td></tr></table></figure>



<h2 id="ä½œä¸ºä¸€çº§å…¬æ°‘çš„ç±»"><a href="#ä½œä¸ºä¸€çº§å…¬æ°‘çš„ç±»" class="headerlink" title="ä½œä¸ºä¸€çº§å…¬æ°‘çš„ç±»"></a>ä½œä¸ºä¸€çº§å…¬æ°‘çš„ç±»</h2><p>èƒ½è¢«å½“ä½œå€¼æ¥ä½¿ç”¨çš„å°±ç§°ä¸ºä¸€çº§å…¬æ°‘</p>
<p>JSçš„å‡½æ•°å°±æ˜¯ä¸€çº§å…¬æ°‘ï¼Œç±»ä¹Ÿå»¶ç»­äº†ä¸‹æ¥ã€‚</p>
<p>ç±»èƒ½ä½œä¸ºå‚æ•°ä¼ å…¥å‡½æ•°ï¼›ä¹Ÿæœ‰ç«‹å³è°ƒç”¨ç±»æ„é€ å™¨çš„ç”¨æ³•ã€‚</p>
<h2 id="è®¿é—®å™¨å±æ€§"><a href="#è®¿é—®å™¨å±æ€§" class="headerlink" title="è®¿é—®å™¨å±æ€§"></a>è®¿é—®å™¨å±æ€§</h2>
              
            </div>
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/%E4%B9%A6%E7%B1%8D/" class="category-chain-item">ä¹¦ç±</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E5%AD%97%E7%AC%A6%E4%B8%B2/">#å­—ç¬¦ä¸²</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>æ·±å…¥ç†è§£ES6</div>
      <div>http://example.com/2022/07/21/æ·±å…¥ç†è§£ES6/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>Author</div>
          <div>John Doe</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>Posted on</div>
          <div>July 21, 2022</div>
        </div>
      
      
      <div class="license-meta-item">
        <div>Licensed under</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - Attribution">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/08/01/%E5%AE%9E%E4%B9%A0%E8%AE%B0%E5%BD%95/" title="å®ä¹ è®°å½•">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">å®ä¹ è®°å½•</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/07/15/%E7%B1%BB%E5%9E%8B%E8%BD%AC%E6%8D%A2/" title="ç±»å‹è½¬æ¢">
                        <span class="hidden-mobile">ç±»å‹è½¬æ¢</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;Table of Contents</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  






    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">Keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
    
      
            
                  
</div>
  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  

  

  

  

  

  

  
    
  




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script>
  (function() {
    var enableLang = CONFIG.code_language.enable && CONFIG.code_language.default;
    var enableCopy = CONFIG.copy_btn;
    if (!enableLang && !enableCopy) {
      return;
    }

    function getBgClass(ele) {
      return Fluid.utils.getBackgroundLightness(ele) >= 0 ? 'code-widget-light' : 'code-widget-dark';
    }

    var copyTmpl = '';
    copyTmpl += '<div class="code-widget">';
    copyTmpl += 'LANG';
    copyTmpl += '</div>';
    jQuery('.markdown-body pre').each(function() {
      var $pre = jQuery(this);
      if ($pre.find('code.mermaid').length > 0) {
        return;
      }
      if ($pre.find('span.line').length > 0) {
        return;
      }

      var lang = '';

      if (enableLang) {
        lang = CONFIG.code_language.default;
        if ($pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2 && $pre.children().hasClass('hljs')) {
          lang = $pre[0].children[0].classList[1];
        } else if ($pre[0].getAttribute('data-language')) {
          lang = $pre[0].getAttribute('data-language');
        } else if ($pre.parent().hasClass('sourceCode') && $pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2) {
          lang = $pre[0].children[0].classList[1];
          $pre.parent().addClass('code-wrapper');
        } else if ($pre.parent().hasClass('markdown-body') && $pre[0].classList.length === 0) {
          $pre.wrap('<div class="code-wrapper"></div>');
        }
        lang = lang.toUpperCase().replace('NONE', CONFIG.code_language.default);
      }
      $pre.append(copyTmpl.replace('LANG', lang).replace('code-widget">',
        getBgClass($pre[0]) + (enableCopy ? ' code-widget copy-btn" data-clipboard-snippet><i class="iconfont icon-copy"></i>' : ' code-widget">')));

      if (enableCopy) {
        Fluid.utils.createScript('https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js', function() {
          var clipboard = new window.ClipboardJS('.copy-btn', {
            target: function(trigger) {
              var nodes = trigger.parentNode.childNodes;
              for (var i = 0; i < nodes.length; i++) {
                if (nodes[i].tagName === 'CODE') {
                  return nodes[i];
                }
              }
            }
          });
          clipboard.on('success', function(e) {
            e.clearSelection();
            e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-copy', 'icon-success');
            setTimeout(function() {
              e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-success', 'icon-copy');
            }, 2000);
          });
        });
      }
    });
  })();
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="/js/leancloud.js" ></script>





<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ï¼Œå°†å®ƒä¿æŒåœ¨æœ€åº•éƒ¨ -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">Blog works best with JavaScript enabled</div>
  </noscript>
</body>
</html>
